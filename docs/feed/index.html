<?xml version="1.0" encoding="utf-8" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[Martin Hujer blog]]></title>
    <link href="http://blog.martinhujer.cz/feed/" rel="self"/>
    <link href="http://blog.martinhujer.cz/"/>
    <updated>2016-10-06T18:15:53+02:00</updated>
    <id>http://blog.martinhujer.cz/</id>
            <author>
            <name><![CDATA[Martin Hujer]]></name>                    </author>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[Jak se učím španělsky?]]></title>
            <link href="/jak-se-ucim-spanelsky"/>
            <updated>2015-11-13T00:00:00+01:00</updated>
            <id>/jak-se-ucim-spanelsky</id>
            <content type="html"><![CDATA[<p><img src="/data/2015/2015-11-13-jak-se-ucim-spanelsky/spanish-flag.png" style="float:right" width="150"> Před nějakou dobou jsem psal o <a href="/ted-se-ucim-se-nemcinu-ctenim/">učení němčiny</a>, ale to jsem na jaře zapauzoval a začal jsem se učit španělsky. Proč? Strávil jsem měsíc v Las Palmas na Gran Canarii a zjistil jsem, že mnohem víc chci umět španělsky než německy :-) Hlavně proto, že tam s angličtinou dost často nepochodíte.</p>

<p>Jako první jsem se pustil do základních slovíček každodenní potřeby - čísla, jídlo, dny v týdnu atd. Na to jsem si na <a href="https://quizlet.com/">Quizletu</a> našel nějaké hotové sady, protože jsem je potřeboval zvládnout, co nejrychleji.</p>

<p>Dál jsem pokračoval na <a href="https://www.duolingo.com/">Duolingo</a>, které už jsem znal z učení němčiny. Nevýhoda je, že tam není moc vysvětlená gramatika. Zároveň věty, na kterých se učíte, jsou dost hloupé (a většinou nepoužitelné v běžném životě).</p>

<p>Zkoušel jsem tedy najít něco lepšího a podařilo se. Objevil jsem aplikaci <a href="http://www.fluencia.com/">Fluencia</a>, která je trochu podobná Duolingu, ale je specializovaná na učení španělštiny pro anglicky mluvící studenty. Takže si mohli dovolit rozmanitější obsah, když ho nemuseli napasovat na univerzální systém jako v Duolingu. Sice je to placená aplikace, stojí $15 na měsíc, ale v porovnání s cenou jazykových kurzů, je to skoro zadarmo. Po registraci si můžete vyzkoušet několik lekcí bez placení, a pokud se vám líbí Duolingo, tak věřím, že Fluencia se vám bude líbit ještě víc :-)</p>

<p>Po návratu domů jsem se přihlásil na <a href="http://www.e-sko.cz/e-sko/Kurz_uplni_zacatecnici_B.html">základní kurz do jazykovky eŠko</a>. Od dubna do června jsem tedy chodil tam. Nová slovíčka jsem si dával do <a href="https://quizlet.com/martinhujer/">Quizletu</a> a průběžně se je učil. Velkou nevýhodou skupinového kurzu je, že pokud to ostatní flákají (třeba se neučí slovíčka), tak to jednotlivé lekce brzdí. Nicméně kurz hodnotím jako super.</p>

<p>Přes léto jsem pokračoval v učení pomocí Fluencie, kdy jsem si nová slovíčka vypisoval do Quizletu a <a href="/jak-jsem-si-chtel-psat-gramatiku/">gramatiku na web</a></p>

<p>Nejrychlejší posun v učení jsem zvládl poslední dva týdny v září. Učitel španělštiny z toho kurzu, na který jsem chodil na jaře, totiž pořádal studijní pobyt na Ibize. Za dva týdny jsme měli 50 vyučovacích hodin, což se prostě projevit muselo :-)</p>

<p>Jedinou nevýhodou bylo, že jsem nestihl letošní Webexpo...</p>

<blockquote class="twitter-tweet" lang="en"><p lang="und" dir="ltr">Letošní <a href="https://twitter.com/webexpo">@webexpo</a> je první, kterého se nezúčastním. Tak si to užijte i za mě! <a href="https://twitter.com/hashtag/ibiza?src=hash">#ibiza</a> <a href="https://twitter.com/hashtag/webexpo?src=hash">#webexpo</a> <a href="http://t.co/PSlmKhrJh9">pic.twitter.com/PSlmKhrJh9</a></p>&mdash; Martin Hujer (@MartinHujer) <a href="https://twitter.com/MartinHujer/status/645167019785101312">September 19, 2015</a></blockquote>

<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>Po návratu z Ibizy už jsem se na další kurz nepřihlásil a místo toho jsem začal hodit na soukromé lekce. Výhoda oproti skupinovému kurzu je, že se toho během jedné lekce stihne hrozně moc. Soukromá lekce je samozřejmě dražší, než jedna lekce v rámci skupinového kurzu (myslím, že mi to vychází o něco více než 2×). Ale přínos je větší několikanásobně, takže se to vážně vyplatí. Pokud se tedy chcete jazyk naučit a ne jen učit (a třeba mít kurz i jako společenskou událost), tak soukromé lekce určitě zvažte.</p>

<p>Když jsem se španělštinou začínal, tak jsem myslel, že to bude těžké a půjde to pomalu -  na gymplu jsem totiž měl 6 let němčinu a výsledek nic moc. Ale opak je pravdou - po půl roce učení španělštiny (a to jsem to zas tak moc nehrotil), se myslím docela pěkně domluvím (líp než německy). A samozřejmě budu v učení pokračovat dál.</p>

<p>Pokud někdo přemýšlíte o naučení se nového jazyka, tak se nebojte a určitě se do toho pusťte!</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Jaký byl Rockaway AWS Hackaton 2015?]]></title>
            <link href="/jaky-byl-rockaway-aws-hackaton-2015"/>
            <updated>2015-10-21T00:00:00+02:00</updated>
            <id>/jaky-byl-rockaway-aws-hackaton-2015</id>
            <content type="html"><![CDATA[<p>V pátek a v sobotu jsem se zúčastnil <a href="http://hackathon.rockaway.cz/">Rockaway AWS Hackatonu</a> v <a href="http://www.hubpraha.cz/">Impact Hubu</a> v Praze. Akce měla ukázat vývojářům, kolik práce s nasazováním a škálováním aplikace je možné ušetřit použitím AWS (Amazon Web Services) technologií.</p>

<p>Na výběr byla hromada témat, nicméně nakonec jsme se dali do týmu s <a href="http://www.tomasfejfar.cz/">Tomášem</a> a zvolili si vlastní téma. Témata na výběr byla totiž hodně programovací, takže bychom velkou část hackatonu strávili vývojem aplikace a jen malou část zkoumáním AWS. Místo toho jsme využili hackaton k tomu, že jsme v AWS rozjeli <a href="http://www.shopio.cz/">Shopio</a> (e-shopové řešení, které vyvíjíme ve w3w).</p>

<p><img src="/data/2015/2015-10-21-jaky-byl-rockaway-aws-hackaton-2015/selfie.jpg" width="600" ale="Selfie ze závěrečné prezentace"></p>

<p><em>Selfie ze závěrečné prezentace</em></p>

<p>Než se pustím do popisu technologií, které jsme vyzkoušeli, tak bych rád poděkoval:</p>

<ul>
<li><a href="https://www.rockawaycapital.com/en/">Rockaway</a> za zorganizování akce</li>
<li>Mentorům za to, že i po probdělé noci byli ochotni vysvětlovat, jak co v AWS funguje</li>
<li>Hubu za servis</li>
</ul>

<p>A teď už k samotným AWS technologiím, které jsme vyzkoušeli.</p>

<h1 id="jak-si-ukl%E3%A1dat-api-kl%E3%AD%E4%9De%3F">Jak si ukládat API klíče?</h1>

<p>V případě použití AWS není potřeba mít API klíče v kódu aplikace. Stačí si v profilu vytvořit soubor <code>~/.aws/credentials</code> a do něj je vložit ve struktuře podobné INI souboru. Viz <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html#cli-config-files">dokumentace</a>.</p>

<pre><code class="ini">[default]
aws_access_key_id=AKIAIOSFODNN7EXAMPLE
aws_secret_access_key=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
</code></pre>

<p>SDK je potom automaticky používá. Na serverech jsou poté přístupné prostřednictvím ENV proměnných (aspoň myslím, jen jsme serveru povolili přístup do S3 a nemuseli jsme nikde kopírovat API klíče).</p>

<p>AWS má dobře řešené nastavování oprávnění, takže konkrétní API klíče mohou sloužit jen pro zápis do S3. Nebo pro jinou jednoúčelovou věc. Nestane se vám potom (jako se to povedlo i jednomu týmu na hackatonu), že si klíče používané jen pro S3 nahrajete na github a robot s jejich pomocí spustí desítky EC2 instancí pro minování bitcoinů - protože tomu konkrétnímu klíči dáte oprávnění k čemukoliv (<a href="http://www.theregister.co.uk/2015/01/06/dev_blunder_shows_github_crawling_with_keyslurping_bots/">článek z ledna na theregister.co.uk</a>)</p>

<h1 id="soubory-do-s3">Soubory do S3</h1>

<p>Aplikace v AWS (a koneckonců ani jinde), by neměla ukládat data přímo do své adresářové struktury na svůj server. V AWS je na to k dispozici neomezené úložiště S3, které je účtováno podle objemu uložených dat a datových přenosů.</p>

<p>Pro PHP je k dispozici <a href="https://aws.amazon.com/sdk-for-php/">AWS SDK for PHP</a>, které umí vytvořit tzv. <a href="https://docs.aws.amazon.com/aws-sdk-php/v3/guide/service/s3-stream-wrapper.html">stream wrapper</a>. Vytvoří virtuální souborový protokol a pak je možné pracovat se soubory pomocí standardních souborových funkcí, takto:</p>

<pre><code class="php">file_put_contents('s3://bucket/jmeno-souboru.jpg', $data)
</code></pre>

<p>Integrace do Shopia byla jednoduchá, změnil jsem cestu, kam se ukládají soubory a bylo to.</p>

<h1 id="generov%E3%A1n%E3%AD-n%E3%A1hled%E5%BF-lambdou">Generování náhledů Lambdou</h1>

<p>Na webu se samozřejmě nepoužívají obrázky nahrané uživateli, ale vygenerované zmenšené náhledy. Na to jsem využil <a href="https://aws.amazon.com/lambda/">Lambdu</a> (novinka na re:invent 2014). Jde o obrovsky škálovatelnou platformu pro spouštění skriptů. Funguje to docela jednoduše - vytvoříte vlastní funkci (lambdu) v Node.js (Javě, Pythonu) a nastavíte ji, aby poslouchala na události PutObject v daném S3 bucketu. Takže se do jednoho bucketu uploadne obrázek, S3 pošle eventu Lambdě, ta si obrázek stáhne, vygeneruje náhledy a uloží je do druhého S3 bucketu. Hrozně super věc, umí totiž prostřednictvím ApiGateway (další kus AWS) fungovat jako běžné API. Mám o ní rozepsaný samostatný článek.</p>

<h1 id="cdn-cloudfront">CDN CloudFront</h1>

<p>Obrázky a podobné statické soubory se uživatelům běžně neservírují z S3, ale prostřednictvím CDN. Amazon nabízí svou CDN pod názvem CloudFront a aktivace v AWS administraci zabrala jen chvilku. Poté je potřeba počkat, než se váš S3 bucket rozdistribuuje po světě a pak stačí na webu změnu URL, odkud se načítají obrázky. CloudFront standardně nabízí https na jejich doméně s jejich certifikátem, případně je možné použít vlastní (doménu i certifikát).</p>

<h1 id="datab%E3%A1ze-na-rds">Databáze na RDS</h1>

<p>V AWS se na provoz relačních databází používá služba RDS. Je možné si vybrat MySQL, MariaDB, Oracle, SQL Server, PostgreSQL a nebo Auroru (MySQL kompatibilní cloudová DB od Amazonu). Výhodou je, že se nemusíte starat o server, kde DB běží, snadno si zapnete replikaci atd.</p>

<h1 id="web-na-ec2">Web na EC2</h1>

<p>Samotný web jsme spustili na EC2 (víceméně běžné VPS) na nginxu a php-fpm. Výhodou AWS je snadno vytvořitelný image pro spouštění dalších takových serverů. Ale samozřejmě je nejlepší automatizovaná instalace (ve w3w používáme SaltStack, obdobou je Puppet nebo Chef). AWS pro orchestraci serverů nabízí OpsWorks (kompatibilní s Chefem). Během hackatonu na to nebyl čas, pro produkční nasazení by to bylo potřeba.</p>

<p>Super věc je <a href="https://aws.amazon.com/elasticloadbalancing/">Elastic Load Balancing</a>, který rozděluje zátěž mezi více EC2 instancí. Jde totiž propojit s AutoScalingem, kde jde nastavit automatické spouštění a vypínání dalších EC2 instancí podle zátěže. Takže v rámci hackatonu jsme nastavili pravidlo na load na 50% a spustili na web <a href="https://www.joedog.org/siege-home/">siege</a> AWS postupně spouštělo další instance až do maximálního nastaveného počtu. A po vypnutí "útoku" (tedy po vykrytí nečekané návštěvnosti), je zase postupně povypínalo.</p>

<h1 id="dns-v-route-53">DNS v Route 53</h1>

<p>Pro testování jsme u jedné domény nastavili jako nameservery Route 53 z AWS. Výhoda správy DNS záznamů v AWS je, že je možné je nasměrovat na alias Elastic Load Balanceru, takže předpokládám, že v případě nějakých problémů si to samí přehodí, kam bude potřeba</p>

<h1 id="a-u%E5%BE-to-b%E4%9B%E5%BE%E3%AD">A už to běží</h1>

<p>Tím jsme měli víceméně hotovo, a oproti stávajícím VPS to pěkně automaticky škálovalo. A byl tedy čas na vychytávky, které se v AWS dají udělat snadněji, než bez něj. Já jsem si hrál s SES a přijímáním e-mailů, Tomáš zkoušel SNS (messaging service).</p>

<h1 id="ses-pro-p%E5%99%E3%ADjem-e-mail%E5%BF">SES pro příjem e-mailů</h1>

<p>SES je primárně určený pro odesílání e-mailů (podobně jako Mandrill, Mailgun, Sendgrid). Ale kromě toho umí e-maily i přijímat a nějak s nimi naložit. Třeba je umí uložit do S3. A na S3 události může poslouchat lambda, která ho stáhne, naparsuje a vloží do databáze jako zprávu z kontaktního formuláře. Trvá to 5-10s od chvíle, co odešlu e-mail. I se zdrojákama to bude v tom článku o Lambdě, co mám rozdělaný.  Bez AWS by to bylo mnohem víc práce. Musel bych mít nějaký e-mail, ten bych cronem přes IMAP vybíral a zpracovával.</p>

<h1 id="shrnut%E3%AD">Shrnutí</h1>

<p>Hackaton byl super. Jsem rád, že jsem se zúčastnil. Rozhodnutí neprogramat novou věc a jen nasadit hotovou hodnotím pozitivně, protože jsme si toho z AWS vyzkoušeli hrozně moc. Pokud se ještě vejdete, tak se <a href="http://hackathon.rockaway.cz/">přihlašte</a> na Hackaton v Brně nebo Ostravě.</p>

<p><strong><a href="https://www.facebook.com/media/set/?set=a.10208071550925750.1073741866.1208864474&amp;type=1&amp;l=e976a6c01e">Pár fotek z Hackatonu</a></strong></p>

<p>A těšte se na článek o Lambdě, je to fakt supr věc :-)</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Jak jsem si chtěl psát gramatiku]]></title>
            <link href="/jak-jsem-si-chtel-psat-gramatiku"/>
            <updated>2015-10-11T00:00:00+02:00</updated>
            <id>/jak-jsem-si-chtel-psat-gramatiku</id>
            <content type="html"><![CDATA[<p>Na jaře jsem se začal učit španělsky (o tom se rozepíšu později) a postupně jsem zjišťoval, že papírový sešit není optimální řešení. Především proto, že jsem ho ne vždy měl u sebe, zapomínal jsem si ho vzít na hodinu a na opakování v tramvaji také nebyl ideální. Potřeboval jsem to tedy mít elektronicky, snadno prohlížitelné i na mobilu offline a s možností tisku (protože nejlíp se stejně učí z papíru).</p>

<p><img src="/data/2015/2015-10-11-jak-jsem-si-chtel-psat-gramatiku/espanol-gramatika-0.jpg" width="600"></p>

<p>Varianty Word nebo OneNote jsem zavrhl jako první - Word by se těžko synchronizoval a ani jedno není příjemné na čtení na mobilu.</p>

<p>Další variantou, kterou jsem zvažoval, byl Markdown. Tam mě překvapilo, že vytváření tabulek není standardizované a každý dialekt Markdownu to má jinak. Vzhledem k tomu, že gramatika jsou samé tabulky, jsem Markdown také vynechal.</p>

<h1 id="jak-tedy-nakonec%3F">Jak tedy nakonec?</h1>

<p>Nakonec jsem použil <strong>HTML + Twitter Bootstrap + HTML5 AppCache + Github Pages.</strong></p>

<ul>
<li>Bootstrap jsem použil, abych nemusel řešit typografii a stylování tabulek.</li>
<li>AppCache mi umožní používat stránku offline na mobilu</li>
<li>Github pages se mi starají o hostování (tím, že to je celé jen statické HTML)</li>
</ul>

<h1 id="p%E5%99egenerov%E3%A1v%E3%A1n%E3%AD-appcache">Přegenerovávání AppCache</h1>

<p>AppCache funguje tak, že si stáhne soubor <code>cache.manifest</code> a věci v něm nacachuje. A pokud se soubor nezměnil, tak nic nestahuje. Takže nepozná, že se změnil nějaký soubor tam uvedený. Nakonec jsem skončil u <a href="https://github.com/mhujer/espanol/blob/gh-pages/touch-cache-manifest.php">jednoduchého skriptu</a>, který mám nastavený jako <code>pre-commit</code> hook a do <code>cache.manifest</code> mi do komentáře vloží md5 hash HTML souboru a manifest nastaguje do gitu.</p>

<p>Stejný skript jsem si přidal jako FileWatcher v PHPStormu, abych mohl kontrolovat, že se vše zobrazuje správně i bez commitování.</p>

<h1 id="dal%E5%A1%E3%AD-drobnosti">Další drobnosti</h1>

<p>Na většinu věcí používám standardní classy z Bootstrapu, přidal jsem si dvě vychytávky:</p>

<p>Koncovky sloves si obaluju do <code>&lt;strong class="vs"&gt;</code>, kdy class <code>vs</code>, kromě nastavení pozadí, vloží před koncovku spojovník:</p>

<pre><code class="css">.vs:before {
    content: '-';
}
</code></pre>

<p>A ten se ignoruje, pokud pak ve stránce hledám celé sloveso <em>trabajaron</em></p>

<p><img src="/data/2015/2015-10-11-jak-jsem-si-chtel-psat-gramatiku/espanol-gramatika-1.png" width="700"></p>

<p>Protože si dokument chci i tisknout, přidal jsem si dvě drobnosti:</p>

<pre><code class="css">table {
    page-break-inside: avoid;
}
.break {
    page-break-before: always;
}
</code></pre>

<p>Zaprvé jsem nastavil, aby se tabulky vždy nechaly na jednom listu. A druhá věc je class, kterou si můžu dorovnat některá špatně udělaná zalomení před tím, než si uložím PDF.</p>

<p><strong>Celou tu nádheru najdete na <a href="https://espanol.martinhujer.cz/">espanol.martinhujer.cz</a></strong> (a na <a href="https://github.com/mhujer/espanol">githubu</a>)</p>

<p><strong>Co vy, také pro jednoduché věcí používáte komplikovaná hi-tech řešení? ;-)</strong></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Sencha Touch je mrtvá. Zabil ji Ext JS 6]]></title>
            <link href="/sencha-touch-je-mrtva-zabil-ji-ext-js-6"/>
            <updated>2015-09-03T00:00:00+02:00</updated>
            <id>/sencha-touch-je-mrtva-zabil-ji-ext-js-6</id>
            <content type="html"><![CDATA[<p>Ještě před krátkou dobou jsem jako docela dobrý způsob tvorby mobilních aplikací doporučoval vytvoření webové aplikace pomocí Sencha Touch a její následné zabalení jako nativní pomocí Apache Cordova. Nicméně vzhledem k novinkám už to za dobrý způsob nepovažuju. Konkrétně kvůli Senche.</p>

<p>Sencha Touch vyvíjela společnost Sencha Inc a byla k dispozici zdarma i pro komerční použití. Samozřejmě bylo možné si od nich dokoupit komerční podporu. Kromě Sencha Touch prodávali jako hlavní produkt framework Ext JS (na kterém byla Sencha Touch částečně postavena).</p>

<p>Na podzim Sencha změnila licenční model Ext JS a místo jednovývojářské licence začala nabízet nejméně bundle pro pět vývojářů (<a href="https://www.sencha.com/store/extjs/">za necelých $5000 ročně</a> - překlikněte si <em>QTY</em>). Na fóru je k tomu více než <a href="https://www.sencha.com/forum/showthread.php?292734-Is-Sencha-********-single-developers">stostránková diskuze</a> Když se někdo ptal sales oddělení, co má dělat, pokud ve firmě vyvíjí v Ext JS sám nebo ve dvou a nepotřebují licenci pro pět vývojářů. Prý jim nezbývá nic jiného než si koupit licenci pro pět vývojářů, že se jim bude hodit až budou růst. Sencha se zřejmě chce více zaměřit na velké firmy a malé firmy a jednotlivce trochu hází přes palubu.</p>

<p>Dokud byla Sencha Touch k dispozici zdarma i pro komerční použití, tak mi to jako problém nepřišlo. V létě vyšel Ext JS 6, který jako jednu z hlavních novinek přinesl zaintegrování Sencha Touch, takže je na jednom frameworku možné snadno vytvářet jak desktopové, tak mobilní aplikace. Zní to sice dobře, ale problém je, že to znamená konec vývoje Sencha Touch, která byla k dispozici zdarma. A Ext JS jde koupit jen v tom epicky drahém bundlu pro pět vývojářů.</p>

<p>Výsledkem je, že pokud jste samostatný vývojář nebo mobilní aplikace vytváříte jen občas, tak nedává smysl Sencha Touch, resp. Ext JS používat.</p>

<p>Jako rozumná náhrada Sencha Touch se zdá <a href="http://ionicframework.com/">Ionic Framework</a>, který je postavený na Angularu a vývoj se posouvá hodně rychle dopředu. Případně je možné opustit Cordovu a pro vývoj zvolit <a href="https://xamarin.com/">Xamarin</a>, který umožňuje vytvářet nativní aplikace pro více platform z jednoho (C#) kódu a jen různých UI.</p>

<p>Další dva rozlobené články v angličtině:</p>

<ul>
<li><a href="http://www.joshmorony.com/does-ext-js-6-mean-the-end-of-sencha-touch-for-single-developers/">Does EXT JS 6 Mean the End of Sencha Touch for Single Developers?</a></li>
<li><a href="http://senchatouchdev.com/wordpress/2015/05/21/sencha-roadshow-london-extjs-6-x-thoughts/">Sencha Roadshow London: ExtJS 6.X Thoughts</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Seznamy na balení věcí]]></title>
            <link href="/seznamy-na-baleni-veci"/>
            <updated>2015-08-25T00:00:00+02:00</updated>
            <id>/seznamy-na-baleni-veci</id>
            <content type="html"><![CDATA[<p>Když balíte věci na výlet, dovolenou nebo služební cestu a nemáte na to moc času, tak se vám snadno stane, že sebou vezete spoustu nepotřebných věcí a některé důležité zapomenete.</p>

<p>Jednoduchým způsobem, jak odbourat stres při balení a zároveň s sebou mít jen a právě všechny potřebné věci, je používání seznamů. Někomu možná stačí si den předem na papír poznamenat základní věci, co vzít sebou. Mně se místo takových ad-hoc seznamů osvědčila dlouhodobější práce s nimi.</p>

<p>Pro každou akci (výlet, dovolenou, atd.) si vytvořím seznam věcí, které si budu brát s sebou. Seznam je rozdělený do sekcí jako <em>"oblečení"</em>, <em>"vybavení"</em>, <em>"jídlo"</em> atd. a dávám si tam opravdu všechno, co budu balit. Seznamy vytvářím jakou obyčejné textové soubory, ale stejně dobře poslouží i OneNote nebo Evernote. Název seznamu prefixuju rokem a měsícem (takže třeba <code>2015-07-Otava</code>, výhoda je, že se pak správně chronologicky řadí).</p>

<p>Že zatím není vidět, v čem je tady ta výhoda? Ano, za chvíli se k tomu dostanu.</p>

<p>Po návratu z dovolené je potřeba seznam doladit a upravit podle toho, co jsme opravdu potřebovali. Samozřejmě je nutné to brát rozumně, takže pokud bylo pěkně a pláštěnka nebyla potřeba, tak neznamená, že ji škrtneme. Ale pokud jsme zpět přivezli pět čistých triček, tak to už stojí za zvážení. Taky berte v úvahu, jestli je to dovolená pod stanem, kam se jedem vlakem s krosnou nebo jedete autem do penzionu - to vás pár triček navíc nezabije. Pokud jedete ve skupině, tak je dobré si psát i věci, které vezli ostatní (třeba: <em>"sekyrka - bere Tomáš"</em>). Osvědčilo se mi také do seznamu připsat negativní věci - třeba <em>"nebrat si tolik jídla"</em>.</p>

<p>Ve chvíli, kdy příště začnete balit, tak by prvním krokem mělo být vybrání nejpodobnějšího minulého seznamu a jeho zkopírování do nového a upravení podle aktuální situace. Výhodou je, že stačí jen upravit počty oblečení podle plánované délky a ostatní položky mohou zůstat tak, jak byly.</p>

<p>Jak si balíte vy? Narychlo sesbíráte věci, které by mohly být potřeba, nebo v tom máte podobný systém?</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Správce schránky - Ditto Clipboard manager]]></title>
            <link href="/spravce-schranky-ditto-clipboard-manager"/>
            <updated>2015-06-13T00:00:00+02:00</updated>
            <id>/spravce-schranky-ditto-clipboard-manager</id>
            <content type="html"><![CDATA[<p>Prozradím vám další střípek ze své mozaiky efektivity. Pokud vám následující věty jsou povědomé, tak je článek určen přímo pro vás:</p>

<blockquote>
  <p>Tyjo, vždyť jsem si to kopíroval, jaktože mi to nejde vložit?</p>
  
  <p>Tyjo, tohle jsem si před chvílí někam kopíroval, kde to teď budu sakra hledat?</p>
</blockquote>

<p>Pokud používáte schránku (CTRL+C, CTRL+V) na ukládání něčeho, co budete potřebovat až za chvilku, určitě se vám stalo, že jste si to omylem přepsali dalším kopírováním. Nebo když  kopírujete víc údajů z jednoho místa do druhého, tak pořád musíte přepínat okna. Říkáte si, že by bylo fajn, kdyby si to pamatovalo víc věcí, co tam uložíte. A ono může…</p>

<p>Windows to neumí samy od sebe, je potřeba nainstalovat aplikaci <a href="http://ditto-cp.sourceforge.net/">Ditto</a> (alternativně můžete vyzkoušet <a href="http://bluemars.org/clipx/">ClipX</a> nebo <a href="http://www.nakka.com/soft/clcl/index_eng.html">CLCL</a>, ale oba vypadají už dál nerozvíjené).</p>

<h1 id="ditto">Ditto</h1>

<p><a href="http://ditto-cp.sourceforge.net/">Ditto</a> je jednoduchá aplikace, která sleduje, co vložíte do schránky a pomocí klávesové zkratky vám umožní vložit i věci, které už z běžné schránky zmizely.</p>

<ol>
<li>Nejdříve si <a href="http://ditto-cp.sourceforge.net/">Ditto stáhněte</a> (odkaz Download) a nainstalujte.</li>
<li>Potom přejděte do nastavení a v záložce <em>"General"</em> zaškrtněte <em>"Start Ditto on System Startup"</em>.</li>
<li>Dále v záložce <em>"Keyboard Shortcuts"</em> si klikněte do pole <em>"Activate Ditto"</em> a zmáčkněte <em>levý Alt + C</em> (jako klávesovou zkratku).</li>
<li>Ditto teď bude sledovat schránku a pamatovat si, co jste tam vložili.</li>
<li>Až budete potřebovat něco, co jste měli v běžné schránce, ale už nemáte, tak stačí zmáčknout <em>levý Alt + C</em> a vybrat si:</li>
</ol>

<p><img src="/data/2015/2015-06-13-spravce-schranky-ditto-clipboard-manager/ditto1.png" alt="" /></p>

<p><strong>Používáte Ditto? Nebo jiný clipboard manager? Nebo nic...a proč? Podělte se v komentářích!</strong></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Jaké novinky přinese PHP 7]]></title>
            <link href="/jake-novinky-prinese-php-7"/>
            <updated>2015-06-08T00:00:00+02:00</updated>
            <id>/jake-novinky-prinese-php-7</id>
            <content type="html"><![CDATA[<p>Za pár dnů (11. 6.) vyjde první alfa verze PHP 7 (a finální verze v půlce listopadu). Je tedy již je nejvyšší čas podívat se na vylepšení a novinky, které nás čekají.</p>

<p><strong><a href="http://www.zdrojak.cz/clanky/jake-novinky-prinese-php-7/">Článek vyšel</a> na serveru Zdroják.cz</strong></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Jak na levnější kontaktní čočky od VašeČočky díky Heuréce?]]></title>
            <link href="/jak-na-levnejsi-kontaktni-cocky-od-vasecocky-diky-heurece"/>
            <updated>2015-01-06T00:00:00+01:00</updated>
            <id>/jak-na-levnejsi-kontaktni-cocky-od-vasecocky-diky-heurece</id>
            <content type="html"><![CDATA[<p>Když jsem začal nosit kontaktní čočky, tak jsem je nejdříve nakupoval u oční doktorky za 1 200 Kč na půl roku. Pak jsem zjistil, že se ty stejné dají kupovat na internetu skoro za polovinu, což je docela velká úspora. Od začátku jsem nakupoval na <a href="http://www.vasecocky.cz">VašeČocky.cz</a>, kteří zboží doručovali hodně rychle a bez problémů. (Teď už čočky nenosím, ale o tom budu psát až někdy jindy).</p>

<p>Náhodou jsem pak zjistil, že na Heuréce nabízejí stejné zboží za nižší cenu, která se vám aktivuje při prokliku z Heuréky.</p>

<p>Základní cena čoček je 539 Kč (<a href="http://www.vasecocky.cz/optima-fw-4.html">proklik přímo na zboží</a>):</p>

<p><img src="/data/2015/2015-01-06-jak-na-levnejsi-kontaktni-cocky-od-vasecocky-diky-heurece/cocky1.png" alt="" /></p>

<p>Na Heuréce je mají za 487 Kč (<a href="http://kontaktni-cocky.heureka.cz/bausch-lomb-optima-fw-ctvrtletni-4-cocky/">proklik na Heuréku</a>):</p>

<p><img src="/data/2015/2015-01-06-jak-na-levnejsi-kontaktni-cocky-od-vasecocky-diky-heurece/cocky2.png" alt="" /></p>

<p>A pokud se z Heuréky prokliknete, tak jsou za tu cenu i na eshopu:</p>

<p><img src="/data/2015/2015-01-06-jak-na-levnejsi-kontaktni-cocky-od-vasecocky-diky-heurece/cocky3.png" alt="" /></p>

<p>(dřív ten rozdíl býval třeba 649 --> 530 Kč, což při dvou baleních už je docela dost).</p>

<p>Obdobně to funguje u <a href="http://www.vasecocky.cz/renu-multiplus-3-x-360-ml-s-pouzdry.html">roztoků na čočky</a>, které to zlevní z 679 na 575 Kč.</p>

<p><img src="/data/2015/2015-01-06-jak-na-levnejsi-kontaktni-cocky-od-vasecocky-diky-heurece/cocky4.png" alt="" /></p>

<p><img src="/data/2015/2015-01-06-jak-na-levnejsi-kontaktni-cocky-od-vasecocky-diky-heurece/cocky5.png" alt="" /></p>

<p>Takže pokud jsem objednával dvoje čočky a roztoky, tak se dalo ušetřit tři stovky, což je docela příjemné (kdo vám to dá). Na jednu stranu jsem chápal, že pro získávání nových zákazníků musí bojovat cenou na Heuréce. Na druhou stranu to je celkem podraz na stálé zákazníky, kteří jdou rovnou k nim na web.</p>

<p>Pokud jim chcete ušetřit za prokliky z Heuréky, tak si stačí nastavit cookie <code>ps_id=1</code> (Heuréka). Pro Zboží je to <code>ps_id=2</code> (takže je možné, že některé věci mají ještě s rozdílnou cenou podle srovnávače, ale to už se mi zkoumat nechtělo).</p>

<p>VašeČocky určitě nejsou jediní, kteří cenově segmentují návštěvnost z Heuréky/Zboží. Víte o nějakých dalších?</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Ruším účet u mBank]]></title>
            <link href="/rusim-ucet-u-mbank"/>
            <updated>2014-12-12T00:00:00+01:00</updated>
            <id>/rusim-ucet-u-mbank</id>
            <content type="html"><![CDATA[<p><em>(proti mBank nic nemám, dotlačili do ČR módu účtů zadarmo, jen mi už jejich podmínky nevyhovují)</em></p>

<p>V mBank jsem byl relativně early-adopter - přišla do ČR v listopadu 2007, účet jsem si zřizoval v březnu 2008.
Důvodem pro mBank pro mě bylo mít druhý účet s menším zůstatkem, ke kterému budu mít kartu na placení online. A v tu dobu tam myslím byl i výhodný spořící. Zároveň jsem ji různě doporučoval jako alternativu ke "starým" bankám.</p>

<blockquote>
  <p>mBank byla první, která v ČR měla předčíslí účtu, takže třeba ještě na gymplu měla paní provozní v jídelně problém ho nastavit pro inkaso, protože na předčíslí neměla kolonku :-) (i když to byl asi ještě tátův účet)</p>
</blockquote>

<p>mBank ze začátku byla cool banka, brzy zavedla bezkontaktní karty apod. Ale pak postupně zhoršili podmínky spořícího účtu (pro udržení úrokové míry byly nějaké další podmínky a bylo to celé nějaké složitější). Pak zrušili 3 výběry zdarma z jakéhokoliv bankomatu a zavedli je zdarma jen při dosažení objemu plateb kartou v daném měsíci. Jenže u těch plateb kartou nezáleží na tom, kdy byly provedeny, ale kdy byly zaúčtovány (což u off-line bezkontaktních plateb může být klidně i týden nebo dva), takže na nějaké sledování to je zbytečně složité. Třešničkou už byl nový e-banking, který mi moc nesedl.</p>

<p>A <a href="http://www.mbank.cz/blog/post,532,zmeny-v-sazebniku-mbank.html">od března 2015 mBank zavádí</a> poplatek za vedení karty, pokud tou kartou nebude měsíčně zaplaceno (a zaúčtováno!) alespoň za 500 Kč. Což sice není nijak závratný objem, ale je to takové to, že když s ní budete hodně platit a pak měsíc ne, tak dostanete "pokutu".</p>

<p>Na mBank se mi dříve líbilo, že nemusím řešit, jestli mi při běžných činnostech (převody, trvalé příkazy, inkasa, …) nenaúčtují nějaký poplatek, což teď už neplatí. A abych to nemusel řešit, tak účet zruším a přejdu k Fio - stejně jsem si tam chtěl účet zřídit, tak mě tohle je pošťouchnulo. (účet ve Fio jsem si dnes zřídil na pobočce za 15 minut)</p>

<p>Pokud mBanku moc nepoužíváte, ale nechcete rovnou ručit celý účet, tak by mělo stačit zrušit kartu v ebankingu. Ale než účet nechat ladem, tak ho doporučuji spíš zrušit úplně (kdo ví, třeba zavedou poplatek za nepoužívání účtu).</p>

<p>Na webu info o rušení účtu nemají, takže jsem se musel doptat na Twitteru:</p>

<blockquote class="twitter-tweet" lang="en"><p><a href="https://twitter.com/MartinHujer">@MartinHujer</a> Můžete na pobočku nebo podat výpověď korespondenčně.</p>&mdash; mBank ČR (@mbank_cz) <a href="https://twitter.com/mbank_cz/status/543026574388236288">December 11, 2014</a></blockquote>

<blockquote class="twitter-tweet" lang="en"><p><a href="https://twitter.com/MartinHujer">@MartinHujer</a> OP stačí.</p>&mdash; mBank ČR (@mbank_cz) <a href="https://twitter.com/mbank_cz/status/543417603444592641">December 12, 2014</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>Jsem zvědavý, jestli tímto mBank odradí klienty s málo používanými účty a ti je budou rušit. Protože klienti mBank už minimálně jednou ukázali, že změna banky pro ně není problém.</p>

<p>A co vy? Také ještě máte účet u mBank nebo už někde jinde?</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Checking a custom coding standard with PHP_CodeSniffer]]></title>
            <link href="/checking-a-custom-coding-standard-with-php_codesniffer"/>
            <updated>2014-06-20T00:00:00+02:00</updated>
            <id>/checking-a-custom-coding-standard-with-php_codesniffer</id>
            <content type="html"><![CDATA[<p><a href="https://github.com/squizlabs/PHP_CodeSniffer">PHP_CodeSniffer</a> is a tool for checking source code compliance with a defined coding standard. There are some predefined standards (PEAR, Zend, PSR1, PSR2, etc.), but the true power of PHP_CodeSniffer lies in the possibility of defining custom standards.</p>

<p>We've been using PHPCS on <a href="http://www.shopio.cz/">Shopio</a> for a long time, but we've utilized just the Zend coding standard provided within the PHPCS distribution.  I recently found some time to dig deeper into PHPCS and I played a lot with custom standards.</p>

<h2 id="how-can-i-define-a-custom-phpcs-standard%3F">How can I define a custom PHPCS standard?</h2>

<p>A custom standard is just an XML file (usually located in the project directory) which imports rules that already exist in PHPCS. It's usually better to import an existing standard and customize it with additional rules. And if there are some rules that you don't like, you can disable them (or reconfigure their parameters). The following example shows a custom ruleset that just imports the Zend coding standard:</p>

<pre><code class="xml">&lt;?xml version="1.0"?&gt;
&lt;ruleset name="My Custom Standard"&gt;
    &lt;rule ref="Zend" /&gt;
&lt;/ruleset&gt;
</code></pre>

<p>Using the custom ruleset is also simple, as you just need to pass the path to the XML file with the custom standard: <code>phpcs --standard=ruleset.xml file.php</code>.</p>

<p>As I've already mentioned, you can reconfigure the way that some of the rules behave. The first one I tried was the line length. We all use fullHD screens for development, so there is no need to limit the line length to 80 characters. With the following snippet, you can get errors and warnings only for extremely long lines (which usually indicates code-smell):</p>

<pre><code class="xml">&lt;rule ref="Generic.Files.LineLength"&gt;
    &lt;properties&gt;
        &lt;property name="lineLimit" value="250" /&gt;
        &lt;property name="absoluteLineLimit" value="300" /&gt;
    &lt;/properties&gt;
&lt;/rule&gt;
</code></pre>

<p>Other often-discovered issues are mixed indentation (tabs and spaces), and mixed newlines (you should always use Unix EOLs). It can be a tedious task to fix them manually, but I've got good news for you: there is a tool called <a href="http://sourceforge.net/projects/swissfileknife/">SFK</a> (Swiss File Knife) which can easily handle such changes in a second.</p>

<p>If you are still getting hundreds of coding standards violations, I would suggest that you disable some rules by setting their severity to 0 and fix the remaining errors. When you have more time for codebase cleaning, enable some of previously disabled rules and repeat the process until you get 0 errors with all 'sniffs' (rules) enabled.</p>

<pre><code class="xml">&lt;rule ref="Generic.Files.LineLength"&gt;
    &lt;severity&gt;0&lt;/severity&gt;
&lt;/rule&gt;
</code></pre>

<h2 id="ignoring-some-of-the-errors">Ignoring some of the errors</h2>

<p>You can exclude specific parts of the source code from being scanned by PHPCS by wrapping the problematic part with <code>//@codingStandardsIgnoreStart</code> and <code>//@codingStandardsIgnoreEnd</code> comments.
You should reach for those as a last resort, such as when the piece of the code cannot be refactored or rewritten. It is also good to include a reason for exclusion in the comment.</p>

<h2 id="adding-more-rules-to-the-ruleset">Adding more rules to the ruleset</h2>

<p>When you (and the whole team) are comfortable with writing code according to specified coding standard and the PHPCS is run regularly (typically as a part of a Jenkins CI build), you can be more strict and add more rules to the ruleset. It can be easily done by checking <a href="https://github.com/squizlabs/PHP_CodeSniffer/blob/master/CodeSniffer/Standards/PSR1/ruleset.xml">some</a> <a href="https://github.com/squizlabs/PHP_CodeSniffer/blob/master/CodeSniffer/Standards/PSR2/ruleset.xml">already</a> <a href="https://github.com/squizlabs/PHP_CodeSniffer/blob/master/CodeSniffer/Standards/Squiz/ruleset.xml">existing</a> <a href="https://github.com/squizlabs/PHP_CodeSniffer/tree/master/CodeSniffer/Standards">standards</a> and choosing some rules from them. You can do it incrementally - choose one rule that looks good, add it to your ruleset and see what happens after you run PHPCS.</p>

<p>You can check out <a href="https://gist.github.com/mhujer/1e93face4a9d13648c91">the coding standard we use for Shopio.cz</a> to see everything that can be checked by PHPCS.</p>

<h2 id="enable-realtime-php_codesniffer-checking-in-phpstorm">Enable realtime PHP_CodeSniffer checking in PHPStorm</h2>

<p><a href="http://www.jetbrains.com/phpstorm/">PHPStorm</a> (great IDE btw.) has integrated support for PHP_CodeSniffer. It can work easily with standards predefined in PHP_CodeSniffer. But it can also check the code with your custom standard. The only thing you need to do is to select the "Custom" standard, which allows you to select the directory where the standard definition file is located. You can select your project directory (you have to have your custom standard file called <code>ruleset.xml</code>) and it will load the standard automatically!</p>

<p>See the detailed guide, <a href="http://www.jetbrains.com/phpstorm/webhelp/using-php-code-sniffer-tool.html">Using PHP Code Sniffer Tool</a></p>

<h2 id="conclusion">Conclusion</h2>

<p>Are you using PHP_CodeSniffer for your projects? Do you want to show off your ruleset file? Or if you are not using PHP_CodeSniffer, I would be happy to hear why.</p>
]]></content>
        </entry>
    </feed>