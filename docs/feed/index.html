<?xml version="1.0" encoding="utf-8" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[Martin Hujer blog]]></title>
    <link href="https://blog.martinhujer.cz/feed/" rel="self"/>
    <link href="https://blog.martinhujer.cz/"/>
    <updated>2016-10-23T21:29:58+02:00</updated>
    <id>https://blog.martinhujer.cz/</id>
            <author>
            <name><![CDATA[Martin Hujer]]></name>                    </author>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[Málaga - co, kdy kde a jak?]]></title>
            <link href="https://blog.martinhujer.cz/malaga/"/>
            <updated>2016-10-24T00:00:00+02:00</updated>
            <id>https://blog.martinhujer.cz/malaga/</id>
            <content type="html"><![CDATA[<p>Během dvou týdnů v Málaze (10.10. - 23.10.) jsem nasbíral pár tipů, které vám pomohou si pobyt užít ještě více. (<a href="/spanelsko/">Tipy ke Španělsku</a> obecně jsem sepsal v <a href="/spanelsko/">samostatném článku</a>).</p>

<p><img src="/data/2016/2016-10-24-malaga/malaga-arena.jpg" alt="" /></p>

<h2 id="bydlen%E3%AD">Bydlení</h2>

<p>První týden jsem bydlel v centru (~200m od Picassova muzea), což bylo super na prozkoumávání města. Nevýhodou bylo, že v ulici bylo několik barů a Španělé v pátek a sobotu rozhodně nekončí o půlnoci (a ještě v úterý - protože mi tam vyšel středeční svátek). Ale se špunty do uší to nebyl problém. A mít to kamkoliv kousek bylo super.</p>

<p>Druhý týden jsem bydlel v pokoji v domku se zahradou v Huelinu (taková rezidenční čtvrť), kousek od pláže. Byl tam klid a blízko na trh, jen na meetupy do centra to holt byla 3km procházka podél moře.</p>

<h2 id="co-nav%E5%A1t%E3%ADvit">Co navštívit</h2>

<p>V neděli má většina muzeí a památek odpoledne a navečer vstup zdarma (doporučuji čas vždycky ověřit na webu)</p>

<ul>
<li><strong><a href="https://goo.gl/maps/z5nAZGmjMDA2">Teatro Romano</a></strong> - vykopaný kus starého římského amfiteátru - vstup zadarmo (nemají to napsané zvenku), pozor na otevírací dobu - vyšlo mi to až napotřetí, co jsem šel okolo</li>
<li><strong><a href="https://goo.gl/maps/6CYv5DY7h7P2">Museo Picasso</a></strong> - v neděli 17-19 zdarma (místo €7). Kolem 17h tam byla dost dlouhá fronta, ale o něco později tam už nečekal skoro nikdo. Když je vstup zdarma, tak si za €1 můžete půjčit audioguide (jinak je v ceně). Pokud, podobně jako já, moc nemáte přehled o umění, tak doporučuji si nejdříve o <a href="https://en.wikipedia.org/wiki/Pablo_Picasso">Picassovi přečíst na Wikipedii</a>. Diky tomu a audioguide jsem si to příjemně užil. Jo ať vás to nepřekvapí, při vstupu rentgenují batohy.</li>
<li><strong><a href="https://goo.gl/maps/gfiTqxizj6z">Castillo de Gibralfaro</a></strong> - hrad na kopci s výborným výhledem do okolí. Cestou půjdete okolo vyhlídky a z ní můžete odbočit po pěšince, která cestu nahoru prodlouží asi o půl kilometru - ale stojí to za to (je z ní mj. focená ta fotka nahoře). A úplně super je vyjít si na vyhlídku v noci a podívat se na osvětlené město. V neděli odpoledne je vstup do hradu zdarma (jinak myslím €2). A až budete na hradě, tak se kromě rozhlížení z hradeb podívejte dovnitř, pěstují tam různé věci, které se tam pěstovaly v době, kdy ho arabové postavili.</li>
<li><strong><a href="https://goo.gl/maps/BdMLhvWUJhu">Alcazaba</a></strong> - arabská pevnost, v neděli odpoledne vstup zdarma (jinak myslím €2)</li>
<li><strong><a href="https://goo.gl/maps/E8i3m96vGZy">Parque del Oeste</a></strong> - nádherný park v Heulinu - sochy, fontánky, rybník s černými labutěmi a želvičkami. Má dvě části, které jsou propojené podchodem pod silnicí.</li>
<li><strong>Couchsurfing meetupy</strong> - viz kapitola <em>Setkávání se s místními</em> v <a href="/spanelsko/">Tipy ke Španělsku</a>.</li>
</ul>

<h2 id="praktick%E3%A9">Praktické</h2>

<ul>
<li><strong>Voda</strong>  - nejdřív jsem ji tahal ze supermarketu, ale pak jsem zjistil, že jde pít i tu z vodovodu. Místní ji moc nepijí (nebo si ji filtrují), protože jim nechutná, ale podle mě se dá (a nic mi z ní nebylo).</li>
<li><strong><a href="https://goo.gl/maps/ex2GqgJn8gG2">Mercado de Huelin</a></strong> - místní trh, kilo avokád od €1, v Mercadoně €4.65. Většina věcí je výhodnější ve větších objemech (2 kg mandarinek €1.8 apod). Prodávají se tam jak <em>bananas</em>, tak <em>plátanos canarias</em>, což jsou banány z kanárských ostrovů - a podle mě jsou o něco chutnější.</li>
<li><strong>Déšť</strong> - za ty dva týdny to hodněkrát vypadalo na déšť, AccuWeather hlásil bouřku na každý den. A pršelo 2× a bouřka nebyla ani jedna. Takže se neděste deště a nerušte si program. Ale pro jistotu si vezměte do batohu větrovku.</li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Španělsko - co by vám mohlo hodit]]></title>
            <link href="https://blog.martinhujer.cz/spanelsko/"/>
            <updated>2016-10-21T00:00:00+02:00</updated>
            <id>https://blog.martinhujer.cz/spanelsko/</id>
            <content type="html"><![CDATA[<p>10&#46; října jsem odjel do Málagy za teplem a postupně jsem si poznamenal různé věci, které by se vám při cestování po Španělsku mohly hodit. Rozdělil jsem je do dvou částí - Španělsko obecně (tenhle článek, pokračování pod fotkou) a <a href="/malaga/">Málaga (samostatný článek)</a>.</p>

<blockquote>
  <p>Na to, že na nějakou dobu odjedu už jsem se chvíli chystal, zařizoval spoustu věcí a podobně. Posledním pošťouchnutím byl kurz <a href="https://www.naucmese.cz/kurz/digitalni-nomadstvi">Digitálního nomádství</a> s Adamem, který říkal <em>"Kupte si letenku a ostatní se už dořeší"</em> - no a další den jsem si koupil jednosměrnou Berlín - Málaga.</p>
</blockquote>

<p><img src="/data/2016/2016-10-21-spanelsko/spanelsko-malaga.jpg" alt="" /></p>

<h2 id="nakupov%E3%A1n%E3%AD">Nakupování</h2>

<p>Rád nakupuju v obchodě Mercadona - řetězec obchodů s potravinami. Je to ve stylu Albert - nejen jídlo ale i věci do domácnosti atd. Jsou skoro všude (minimálně v Barceloně i v Málaze). Bez problémů jde platit i bezkontaktní kartou (např. v Día supermercado až od €7)</p>

<p>Na výběry z bankomatů si pořiďte Revolut kartu (vybírám po €20 nebo €40, napíšu o ní samostatný článek)</p>

<p>Zkuste si najít trh (kvůli horku to je budova, ne stánky), ovoce a zelenina tam pravděpodobně bude levnější. Třeba tady v Málaze v Mercado de Huelin stojí kilo avokád od €1, v Mercadoně €4.65</p>

<h3 id="fronty">Fronty</h3>

<p>Fronty v obchodech fungují jinak, nestojí se v řadě. Takže klidně můžete prohlížet zboží.</p>

<ul>
<li>v Mercadoně u ryb se berou čísla a vyvolávají je (mají displej, ale někdy to jen říkají a nepřepínají to)</li>
<li>pokud nejsou čísla, tak se musíte zeptat, kdo je poslední (<em>¿Quién es el último?</em>) a pamatovat si, že jste na řadě za ním</li>
</ul>

<h2 id="siesta-a-ned%E4%9Ble">Siesta a neděle</h2>

<p>Siesta se opravdu dodržuje a obchody (kromě velkých obchoďáků a turistických stánků) mají cca od 14 - 17h zavřeno.</p>

<p>V neděli a ve státní svátky jsou obchody zavřené úplně, tak si nezapomeňte nakoupit jídlo.</p>

<ul>
<li><strong>ProTip:</strong> v Google Calendar si jde zapnout kalendář svátků ve Španělsku</li>
<li><strong>ProTip:</strong> chleba koupíte i v neděli v nějaké cafeterii</li>
</ul>

<h2 id="kav%E3%A1rny">Kavárny</h2>

<p>Rád si dávám <em>café con leche</em> (něco jako capuchino s méně pěnou), stojí €1.3 - €1.6.</p>

<p>V kavárnách se často účtuje poplatek za "terasu/zahrádku" - cca €0.2, tak ať vás to nepřekvapí.</p>

<p>Spoustu lidí má doma Moka konvičku, takže pokud vám stačí dobrá káva, můžete si koupit v Mercadoně mletou a vařit si doma.</p>

<h2 id="setk%E3%A1v%E3%A1n%E3%AD-se-s-m%E3%ADstn%E3%ADmi">Setkávání se s místními</h2>

<p>I když kvůli nějakému pohodlí a méně stěhování (max jednou týdně) hledám bydlení přes <a href="https://www.airbnb.com/c/mhujer">Airbnb</a>, tak doporučuji určitě se zaregistrovat na <a href="https://www.couchsurfing.com/">Couchsurfing.com</a> a najít si meetupy v tom místě, kde budete. Chodí na ně cizinci, kteří cestují a místní, kteří se chtějí potkávat s cestovateli.</p>

<p>Tady v Málaze jsem byl na CS Meetupu a na Language exchange (myšlenkou je vzájemné učení jazyků tím, že si povídáte - takže vlastně víceméně stejné jako meetup).</p>

<p>Případně vyzkoušejte meetup.com (ale v Málaze ani v Granadě jsem tam na rozdíl od Couchsurfingu nic nenašel)</p>

<p>Je super umět alespoň <a href="/jak-se-ucim-spanelsky/">trochu španělsky</a>, protože místní anglicky spíš nemluví (kromě centra a kolikrát ani tam ne). Takže třeba to s tou frontou na trhu mi vysvětlili spolunakupující a mohl jsem jim na to odpovědět ve větách ;-) Zároveň si můžu vybírat Airbnb, kde je popis jen ve španělštině a jsem schopný se s hostiteli bavit i o komplikovanějších věcech.</p>

<p>Všichni používají WhatsApp, je to primární způsob komunikace - takže když dostanete na někoho číslo, tak je to velmi pravděpodobně WhatsApp číslo.</p>

<h2 id="bydlen%E3%AD">Bydlení</h2>

<p>Už jsem zmiňoval, že bydlení hledám přes <a href="https://www.airbnb.com/c/mhujer">Airbnb</a>, abych měl alespoň trochu jistotu a klid na práci (a přesouvám se po týdnu). Pokud to je možné, tak vybírám pokoj v bytě, kde ten pronajímatel zároveň bydlí. Spoustu nabídek jsou totiž byty celé nabízené po pokojích na Airbnb na kšeft a majitel tam nebydlí (naopak má takových bytů více). Sice se v takových bytech můžete potkat s dalšími cestovateli, ale já dávám přednost autentickému bydlení s místními (je to vlastně takový placený Couchsurfing s trochou garancí).</p>

<p>Pronajímatelé vám dávají obrovskou důvěru, když vás nechají u sebe doma, tak ji nezklamte!</p>

<blockquote>
  <p>(článek budu postupně doplňovat)</p>
</blockquote>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[GitLab jako Continuous Integration (nejen) pro PHP]]></title>
            <link href="https://blog.martinhujer.cz/gitlab-jako-continuous-integration-nejen-pro-php/"/>
            <updated>2016-10-19T00:00:00+02:00</updated>
            <id>https://blog.martinhujer.cz/gitlab-jako-continuous-integration-nejen-pro-php/</id>
            <content type="html"><![CDATA[<p>V článku si ukážeme, jak kromě hostování a správy git repositářů můžeme GitLab používat pro CI (Continuous Integration). Zajímavé na něm je, že na rozdíl od konkurence to nabízí i v hostované verzi zadarmo.</p>

<p><strong><a href="https://www.zdrojak.cz/clanky/gitlab-jako-continuous-integration-nejen-pro-php/">Článek vyšel</a> na serveru Zdroják.cz</strong></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Jaké novinky přinese PHP 7.1]]></title>
            <link href="https://blog.martinhujer.cz/jake-novinky-prinese-php-7-1/"/>
            <updated>2016-09-30T00:00:00+02:00</updated>
            <id>https://blog.martinhujer.cz/jake-novinky-prinese-php-7-1/</id>
            <content type="html"><![CDATA[<p>PHP 7.0.0 vyšlo teprve před necelým rokem a už se pomalu můžeme těšit na PHP 7.1. Před pár dny byla vydána verze RC3, takže už je čas začít testovat kompatibilitu aplikací.</p>

<p><strong><a href="https://www.zdrojak.cz/clanky/jake-novinky-prinese-php-7-1/">Článek vyšel</a> na serveru Zdroják.cz</strong></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Framework-less code? (PHP Prague 2016)]]></title>
            <link href="https://blog.martinhujer.cz/phpprague-2016-framework-less-code/"/>
            <updated>2016-06-03T00:00:00+02:00</updated>
            <id>https://blog.martinhujer.cz/phpprague-2016-framework-less-code/</id>
            <content type="html"><![CDATA[<p>Na <a href="http://pehapkari.cz/konference/php-prague-2016-v-paralelnim-polis/">PHP Prague 3. 6. 2016</a> jsem povídal o tom, jak vhodně vytvářet knihovny, aby byly co nejméně závislé na konkrétním frameworku. Můžete se podívat na video nebo si projít slidy.</p>

<p><strong>Video: <a href="https://youtu.be/r3dr_DnaTG4?t=3835">na Youtube</a></strong></p>

<p><strong>Slidy: <a href="//www.slideshare.net/martinhujer/php-prague-3-6-2016-bez-zvislosti-na-frameworku">na Slideshare</a></strong></p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/mXrc659HLB1sgV" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Symfony Console jako první rande se Symfony]]></title>
            <link href="https://blog.martinhujer.cz/symfony-console-jako-prvni-rande-se-symfony/"/>
            <updated>2015-12-07T00:00:00+01:00</updated>
            <id>https://blog.martinhujer.cz/symfony-console-jako-prvni-rande-se-symfony/</id>
            <content type="html"><![CDATA[<p>V článku si ukážeme možnosti Symfony Console. Je to samostatná komponenta s minimem závislostí, takže ji lze velmi snadno začít používat v existující aplikaci. Považuji to za super způsob, jak se nenásilně seznámit s ekosystémem Symfony.</p>

<p><strong><a href="https://www.zdrojak.cz/clanky/symfony-console-jako-prvni-rande-se-symfony/">Článek vyšel</a> na serveru Zdroják.cz</strong></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Jak se učím španělsky?]]></title>
            <link href="https://blog.martinhujer.cz/jak-se-ucim-spanelsky/"/>
            <updated>2015-11-13T00:00:00+01:00</updated>
            <id>https://blog.martinhujer.cz/jak-se-ucim-spanelsky/</id>
            <content type="html"><![CDATA[<p><img src="/data/2015/2015-11-13-jak-se-ucim-spanelsky/spanish-flag.png" style="float:right" width="150"> Před nějakou dobou jsem psal o <a href="/ted-se-ucim-se-nemcinu-ctenim/">učení němčiny</a>, ale to jsem na jaře zapauzoval a začal jsem se učit španělsky. Proč? Strávil jsem měsíc v Las Palmas na Gran Canarii a zjistil jsem, že mnohem víc chci umět španělsky než německy :-) Hlavně proto, že tam s angličtinou dost často nepochodíte.</p>

<p>Jako první jsem se pustil do základních slovíček každodenní potřeby - čísla, jídlo, dny v týdnu atd. Na to jsem si na <a href="https://quizlet.com/">Quizletu</a> našel nějaké hotové sady, protože jsem je potřeboval zvládnout, co nejrychleji.</p>

<p>Dál jsem pokračoval na <a href="https://www.duolingo.com/">Duolingo</a>, které už jsem znal z učení němčiny. Nevýhoda je, že tam není moc vysvětlená gramatika. Zároveň věty, na kterých se učíte, jsou dost hloupé (a většinou nepoužitelné v běžném životě).</p>

<p>Zkoušel jsem tedy najít něco lepšího a podařilo se. Objevil jsem aplikaci <a href="http://www.fluencia.com/">Fluencia</a>, která je trochu podobná Duolingu, ale je specializovaná na učení španělštiny pro anglicky mluvící studenty. Takže si mohli dovolit rozmanitější obsah, když ho nemuseli napasovat na univerzální systém jako v Duolingu. Sice je to placená aplikace, stojí $15 na měsíc, ale v porovnání s cenou jazykových kurzů, je to skoro zadarmo. Po registraci si můžete vyzkoušet několik lekcí bez placení, a pokud se vám líbí Duolingo, tak věřím, že Fluencia se vám bude líbit ještě víc :-)</p>

<p>Po návratu domů jsem se přihlásil na <a href="http://www.e-sko.cz/e-sko/Kurz_uplni_zacatecnici_B.html">základní kurz do jazykovky eŠko</a>. Od dubna do června jsem tedy chodil tam. Nová slovíčka jsem si dával do <a href="https://quizlet.com/martinhujer">Quizletu</a> a průběžně se je učil. Velkou nevýhodou skupinového kurzu je, že pokud to ostatní flákají (třeba se neučí slovíčka), tak to jednotlivé lekce brzdí. Nicméně kurz hodnotím jako super.</p>

<p>Přes léto jsem pokračoval v učení pomocí Fluencie, kdy jsem si nová slovíčka vypisoval do Quizletu a <a href="/jak-jsem-si-chtel-psat-gramatiku/">gramatiku na web</a></p>

<p>Nejrychlejší posun v učení jsem zvládl poslední dva týdny v září. Učitel španělštiny z toho kurzu, na který jsem chodil na jaře, totiž pořádal studijní pobyt na Ibize. Za dva týdny jsme měli 50 vyučovacích hodin, což se prostě projevit muselo :-)</p>

<p>Jedinou nevýhodou bylo, že jsem nestihl letošní Webexpo...</p>

<blockquote class="twitter-tweet" lang="en"><p lang="und" dir="ltr">Letošní <a href="https://twitter.com/webexpo">@webexpo</a> je první, kterého se nezúčastním. Tak si to užijte i za mě! <a href="https://twitter.com/hashtag/ibiza?src=hash">#ibiza</a> <a href="https://twitter.com/hashtag/webexpo?src=hash">#webexpo</a> <a href="http://t.co/PSlmKhrJh9">pic.twitter.com/PSlmKhrJh9</a></p>&mdash; Martin Hujer (@MartinHujer) <a href="https://twitter.com/MartinHujer/status/645167019785101312">September 19, 2015</a></blockquote>

<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>Po návratu z Ibizy už jsem se na další kurz nepřihlásil a místo toho jsem začal hodit na soukromé lekce. Výhoda oproti skupinovému kurzu je, že se toho během jedné lekce stihne hrozně moc. Soukromá lekce je samozřejmě dražší, než jedna lekce v rámci skupinového kurzu (myslím, že mi to vychází o něco více než 2×). Ale přínos je větší několikanásobně, takže se to vážně vyplatí. Pokud se tedy chcete jazyk naučit a ne jen učit (a třeba mít kurz i jako společenskou událost), tak soukromé lekce určitě zvažte.</p>

<p>Když jsem se španělštinou začínal, tak jsem myslel, že to bude těžké a půjde to pomalu -  na gymplu jsem totiž měl 6 let němčinu a výsledek nic moc. Ale opak je pravdou - po půl roce učení španělštiny (a to jsem to zas tak moc nehrotil), se myslím docela pěkně domluvím (líp než německy). A samozřejmě budu v učení pokračovat dál.</p>

<p>Pokud někdo přemýšlíte o naučení se nového jazyka, tak se nebojte a určitě se do toho pusťte!</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Jaký byl Rockaway AWS Hackaton 2015?]]></title>
            <link href="https://blog.martinhujer.cz/jaky-byl-rockaway-aws-hackaton-2015/"/>
            <updated>2015-10-21T00:00:00+02:00</updated>
            <id>https://blog.martinhujer.cz/jaky-byl-rockaway-aws-hackaton-2015/</id>
            <content type="html"><![CDATA[<p>V pátek a v sobotu jsem se zúčastnil <a href="http://hackathon.rockaway.cz/">Rockaway AWS Hackatonu</a> v <a href="http://www.hubpraha.cz/">Impact Hubu</a> v Praze. Akce měla ukázat vývojářům, kolik práce s nasazováním a škálováním aplikace je možné ušetřit použitím AWS (Amazon Web Services) technologií.</p>

<p>Na výběr byla hromada témat, nicméně nakonec jsme se dali do týmu s <a href="http://www.tomasfejfar.cz/">Tomášem</a> a zvolili si vlastní téma. Témata na výběr byla totiž hodně programovací, takže bychom velkou část hackatonu strávili vývojem aplikace a jen malou část zkoumáním AWS. Místo toho jsme využili hackaton k tomu, že jsme v AWS rozjeli <a href="https://www.shopio.cz/">Shopio</a> (e-shopové řešení, které vyvíjíme ve w3w).</p>

<p><img src="/data/2015/2015-10-21-jaky-byl-rockaway-aws-hackaton-2015/selfie.jpg" width="600" alt="Selfie ze závěrečné prezentace"></p>

<p><em>Selfie ze závěrečné prezentace</em></p>

<p>Než se pustím do popisu technologií, které jsme vyzkoušeli, tak bych rád poděkoval:</p>

<ul>
<li><a href="https://www.rockawaycapital.com/en/">Rockaway</a> za zorganizování akce</li>
<li>Mentorům za to, že i po probdělé noci byli ochotni vysvětlovat, jak co v AWS funguje</li>
<li>Hubu za servis</li>
</ul>

<p>A teď už k samotným AWS technologiím, které jsme vyzkoušeli.</p>

<h1 id="jak-si-ukl%E3%A1dat-api-kl%E3%AD%E4%9De%3F">Jak si ukládat API klíče?</h1>

<p>V případě použití AWS není potřeba mít API klíče v kódu aplikace. Stačí si v profilu vytvořit soubor <code>~/.aws/credentials</code> a do něj je vložit ve struktuře podobné INI souboru. Viz <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html#cli-config-files">dokumentace</a>.</p>

<pre><code class="ini">[default]
aws_access_key_id=AKIAIOSFODNN7EXAMPLE
aws_secret_access_key=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
</code></pre>

<p>SDK je potom automaticky používá. Na serverech jsou poté přístupné prostřednictvím ENV proměnných (aspoň myslím, jen jsme serveru povolili přístup do S3 a nemuseli jsme nikde kopírovat API klíče).</p>

<p>AWS má dobře řešené nastavování oprávnění, takže konkrétní API klíče mohou sloužit jen pro zápis do S3. Nebo pro jinou jednoúčelovou věc. Nestane se vám potom (jako se to povedlo i jednomu týmu na hackatonu), že si klíče používané jen pro S3 nahrajete na github a robot s jejich pomocí spustí desítky EC2 instancí pro minování bitcoinů - protože tomu konkrétnímu klíči dáte oprávnění k čemukoliv (<a href="http://www.theregister.co.uk/2015/01/06/dev_blunder_shows_github_crawling_with_keyslurping_bots/">článek z ledna na theregister.co.uk</a>)</p>

<h1 id="soubory-do-s3">Soubory do S3</h1>

<p>Aplikace v AWS (a koneckonců ani jinde), by neměla ukládat data přímo do své adresářové struktury na svůj server. V AWS je na to k dispozici neomezené úložiště S3, které je účtováno podle objemu uložených dat a datových přenosů.</p>

<p>Pro PHP je k dispozici <a href="https://aws.amazon.com/sdk-for-php/">AWS SDK for PHP</a>, které umí vytvořit tzv. <a href="https://docs.aws.amazon.com/aws-sdk-php/v3/guide/service/s3-stream-wrapper.html">stream wrapper</a>. Vytvoří virtuální souborový protokol a pak je možné pracovat se soubory pomocí standardních souborových funkcí, takto:</p>

<pre><code class="php">file_put_contents('s3://bucket/jmeno-souboru.jpg', $data)
</code></pre>

<p>Integrace do Shopia byla jednoduchá, změnil jsem cestu, kam se ukládají soubory a bylo to.</p>

<h1 id="generov%E3%A1n%E3%AD-n%E3%A1hled%E5%BF-lambdou">Generování náhledů Lambdou</h1>

<p>Na webu se samozřejmě nepoužívají obrázky nahrané uživateli, ale vygenerované zmenšené náhledy. Na to jsem využil <a href="https://aws.amazon.com/lambda/">Lambdu</a> (novinka na re:invent 2014). Jde o obrovsky škálovatelnou platformu pro spouštění skriptů. Funguje to docela jednoduše - vytvoříte vlastní funkci (lambdu) v Node.js (Javě, Pythonu) a nastavíte ji, aby poslouchala na události PutObject v daném S3 bucketu. Takže se do jednoho bucketu uploadne obrázek, S3 pošle eventu Lambdě, ta si obrázek stáhne, vygeneruje náhledy a uloží je do druhého S3 bucketu. Hrozně super věc, umí totiž prostřednictvím ApiGateway (další kus AWS) fungovat jako běžné API. Mám o ní rozepsaný samostatný článek.</p>

<h1 id="cdn-cloudfront">CDN CloudFront</h1>

<p>Obrázky a podobné statické soubory se uživatelům běžně neservírují z S3, ale prostřednictvím CDN. Amazon nabízí svou CDN pod názvem CloudFront a aktivace v AWS administraci zabrala jen chvilku. Poté je potřeba počkat, než se váš S3 bucket rozdistribuuje po světě a pak stačí na webu změnu URL, odkud se načítají obrázky. CloudFront standardně nabízí https na jejich doméně s jejich certifikátem, případně je možné použít vlastní (doménu i certifikát).</p>

<h1 id="datab%E3%A1ze-na-rds">Databáze na RDS</h1>

<p>V AWS se na provoz relačních databází používá služba RDS. Je možné si vybrat MySQL, MariaDB, Oracle, SQL Server, PostgreSQL a nebo Auroru (MySQL kompatibilní cloudová DB od Amazonu). Výhodou je, že se nemusíte starat o server, kde DB běží, snadno si zapnete replikaci atd.</p>

<h1 id="web-na-ec2">Web na EC2</h1>

<p>Samotný web jsme spustili na EC2 (víceméně běžné VPS) na nginxu a php-fpm. Výhodou AWS je snadno vytvořitelný image pro spouštění dalších takových serverů. Ale samozřejmě je nejlepší automatizovaná instalace (ve w3w používáme SaltStack, obdobou je Puppet nebo Chef). AWS pro orchestraci serverů nabízí OpsWorks (kompatibilní s Chefem). Během hackatonu na to nebyl čas, pro produkční nasazení by to bylo potřeba.</p>

<p>Super věc je <a href="https://aws.amazon.com/elasticloadbalancing/">Elastic Load Balancing</a>, který rozděluje zátěž mezi více EC2 instancí. Jde totiž propojit s AutoScalingem, kde jde nastavit automatické spouštění a vypínání dalších EC2 instancí podle zátěže. Takže v rámci hackatonu jsme nastavili pravidlo na load na 50% a spustili na web <a href="https://www.joedog.org/siege-home/">siege</a> AWS postupně spouštělo další instance až do maximálního nastaveného počtu. A po vypnutí "útoku" (tedy po vykrytí nečekané návštěvnosti), je zase postupně povypínalo.</p>

<h1 id="dns-v-route-53">DNS v Route 53</h1>

<p>Pro testování jsme u jedné domény nastavili jako nameservery Route 53 z AWS. Výhoda správy DNS záznamů v AWS je, že je možné je nasměrovat na alias Elastic Load Balanceru, takže předpokládám, že v případě nějakých problémů si to samí přehodí, kam bude potřeba</p>

<h1 id="a-u%E5%BE-to-b%E4%9B%E5%BE%E3%AD">A už to běží</h1>

<p>Tím jsme měli víceméně hotovo, a oproti stávajícím VPS to pěkně automaticky škálovalo. A byl tedy čas na vychytávky, které se v AWS dají udělat snadněji, než bez něj. Já jsem si hrál s SES a přijímáním e-mailů, Tomáš zkoušel SNS (messaging service).</p>

<h1 id="ses-pro-p%E5%99%E3%ADjem-e-mail%E5%BF">SES pro příjem e-mailů</h1>

<p>SES je primárně určený pro odesílání e-mailů (podobně jako Mandrill, Mailgun, Sendgrid). Ale kromě toho umí e-maily i přijímat a nějak s nimi naložit. Třeba je umí uložit do S3. A na S3 události může poslouchat lambda, která ho stáhne, naparsuje a vloží do databáze jako zprávu z kontaktního formuláře. Trvá to 5-10s od chvíle, co odešlu e-mail. I se zdrojákama to bude v tom článku o Lambdě, co mám rozdělaný.  Bez AWS by to bylo mnohem víc práce. Musel bych mít nějaký e-mail, ten bych cronem přes IMAP vybíral a zpracovával.</p>

<h1 id="shrnut%E3%AD">Shrnutí</h1>

<p>Hackaton byl super. Jsem rád, že jsem se zúčastnil. Rozhodnutí neprogramat novou věc a jen nasadit hotovou hodnotím pozitivně, protože jsme si toho z AWS vyzkoušeli hrozně moc. Pokud se ještě vejdete, tak se <a href="http://hackathon.rockaway.cz/">přihlašte</a> na Hackaton v Brně nebo Ostravě.</p>

<p><strong><a href="https://www.facebook.com/media/set/?set=a.10208071550925750.1073741866.1208864474&amp;type=1&amp;l=e976a6c01e">Pár fotek z Hackatonu</a></strong></p>

<p>A těšte se na článek o Lambdě, je to fakt supr věc :-)</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Jak jsem si chtěl psát gramatiku]]></title>
            <link href="https://blog.martinhujer.cz/jak-jsem-si-chtel-psat-gramatiku/"/>
            <updated>2015-10-11T00:00:00+02:00</updated>
            <id>https://blog.martinhujer.cz/jak-jsem-si-chtel-psat-gramatiku/</id>
            <content type="html"><![CDATA[<p>Na jaře jsem se začal učit španělsky (o tom se rozepíšu později) a postupně jsem zjišťoval, že papírový sešit není optimální řešení. Především proto, že jsem ho ne vždy měl u sebe, zapomínal jsem si ho vzít na hodinu a na opakování v tramvaji také nebyl ideální. Potřeboval jsem to tedy mít elektronicky, snadno prohlížitelné i na mobilu offline a s možností tisku (protože nejlíp se stejně učí z papíru).</p>

<p><img src="/data/2015/2015-10-11-jak-jsem-si-chtel-psat-gramatiku/espanol-gramatika-0.jpg" width="600"></p>

<p>Varianty Word nebo OneNote jsem zavrhl jako první - Word by se těžko synchronizoval a ani jedno není příjemné na čtení na mobilu.</p>

<p>Další variantou, kterou jsem zvažoval, byl Markdown. Tam mě překvapilo, že vytváření tabulek není standardizované a každý dialekt Markdownu to má jinak. Vzhledem k tomu, že gramatika jsou samé tabulky, jsem Markdown také vynechal.</p>

<h1 id="jak-tedy-nakonec%3F">Jak tedy nakonec?</h1>

<p>Nakonec jsem použil <strong>HTML + Twitter Bootstrap + HTML5 AppCache + Github Pages.</strong></p>

<ul>
<li>Bootstrap jsem použil, abych nemusel řešit typografii a stylování tabulek.</li>
<li>AppCache mi umožní používat stránku offline na mobilu</li>
<li>Github pages se mi starají o hostování (tím, že to je celé jen statické HTML)</li>
</ul>

<h1 id="p%E5%99egenerov%E3%A1v%E3%A1n%E3%AD-appcache">Přegenerovávání AppCache</h1>

<p>AppCache funguje tak, že si stáhne soubor <code>cache.manifest</code> a věci v něm nacachuje. A pokud se soubor nezměnil, tak nic nestahuje. Takže nepozná, že se změnil nějaký soubor tam uvedený. Nakonec jsem skončil u <a href="https://github.com/mhujer/espanol/blob/gh-pages/touch-cache-manifest.php">jednoduchého skriptu</a>, který mám nastavený jako <code>pre-commit</code> hook a do <code>cache.manifest</code> mi do komentáře vloží md5 hash HTML souboru a manifest nastaguje do gitu.</p>

<p>Stejný skript jsem si přidal jako FileWatcher v PHPStormu, abych mohl kontrolovat, že se vše zobrazuje správně i bez commitování.</p>

<h1 id="dal%E5%A1%E3%AD-drobnosti">Další drobnosti</h1>

<p>Na většinu věcí používám standardní classy z Bootstrapu, přidal jsem si dvě vychytávky:</p>

<p>Koncovky sloves si obaluju do <code>&lt;strong class="vs"&gt;</code>, kdy class <code>vs</code>, kromě nastavení pozadí, vloží před koncovku spojovník:</p>

<pre><code class="css">.vs:before {
    content: '-';
}
</code></pre>

<p>A ten se ignoruje, pokud pak ve stránce hledám celé sloveso <em>trabajaron</em></p>

<p><img src="/data/2015/2015-10-11-jak-jsem-si-chtel-psat-gramatiku/espanol-gramatika-1.png" width="700"></p>

<p>Protože si dokument chci i tisknout, přidal jsem si dvě drobnosti:</p>

<pre><code class="css">table {
    page-break-inside: avoid;
}
.break {
    page-break-before: always;
}
</code></pre>

<p>Zaprvé jsem nastavil, aby se tabulky vždy nechaly na jednom listu. A druhá věc je class, kterou si můžu dorovnat některá špatně udělaná zalomení před tím, než si uložím PDF.</p>

<p><strong>Celou tu nádheru najdete na <a href="https://espanol.martinhujer.cz/">espanol.martinhujer.cz</a></strong> (a na <a href="https://github.com/mhujer/espanol">githubu</a>)</p>

<p><strong>Co vy, také pro jednoduché věcí používáte komplikovaná hi-tech řešení? ;-)</strong></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Sencha Touch je mrtvá. Zabil ji Ext JS 6]]></title>
            <link href="https://blog.martinhujer.cz/sencha-touch-je-mrtva-zabil-ji-ext-js-6/"/>
            <updated>2015-09-03T00:00:00+02:00</updated>
            <id>https://blog.martinhujer.cz/sencha-touch-je-mrtva-zabil-ji-ext-js-6/</id>
            <content type="html"><![CDATA[<p>Ještě před krátkou dobou jsem jako docela dobrý způsob tvorby mobilních aplikací doporučoval vytvoření webové aplikace pomocí Sencha Touch a její následné zabalení jako nativní pomocí Apache Cordova. Nicméně vzhledem k novinkám už to za dobrý způsob nepovažuju. Konkrétně kvůli Senche.</p>

<p>Sencha Touch vyvíjela společnost Sencha Inc a byla k dispozici zdarma i pro komerční použití. Samozřejmě bylo možné si od nich dokoupit komerční podporu. Kromě Sencha Touch prodávali jako hlavní produkt framework Ext JS (na kterém byla Sencha Touch částečně postavena).</p>

<p>Na podzim Sencha změnila licenční model Ext JS a místo jednovývojářské licence začala nabízet nejméně bundle pro pět vývojářů (<a href="https://www.sencha.com/store/extjs/">za necelých $5000 ročně</a> - překlikněte si <em>QTY</em>). Na fóru je k tomu více než <a href="https://www.sencha.com/forum/showthread.php?292734-Is-Sencha-********-single-developers">stostránková diskuze</a> Když se někdo ptal sales oddělení, co má dělat, pokud ve firmě vyvíjí v Ext JS sám nebo ve dvou a nepotřebují licenci pro pět vývojářů. Prý jim nezbývá nic jiného než si koupit licenci pro pět vývojářů, že se jim bude hodit až budou růst. Sencha se zřejmě chce více zaměřit na velké firmy a malé firmy a jednotlivce trochu hází přes palubu.</p>

<p>Dokud byla Sencha Touch k dispozici zdarma i pro komerční použití, tak mi to jako problém nepřišlo. V létě vyšel Ext JS 6, který jako jednu z hlavních novinek přinesl zaintegrování Sencha Touch, takže je na jednom frameworku možné snadno vytvářet jak desktopové, tak mobilní aplikace. Zní to sice dobře, ale problém je, že to znamená konec vývoje Sencha Touch, která byla k dispozici zdarma. A Ext JS jde koupit jen v tom epicky drahém bundlu pro pět vývojářů.</p>

<p>Výsledkem je, že pokud jste samostatný vývojář nebo mobilní aplikace vytváříte jen občas, tak nedává smysl Sencha Touch, resp. Ext JS používat.</p>

<p>Jako rozumná náhrada Sencha Touch se zdá <a href="http://ionicframework.com/">Ionic Framework</a>, který je postavený na Angularu a vývoj se posouvá hodně rychle dopředu. Případně je možné opustit Cordovu a pro vývoj zvolit <a href="https://www.xamarin.com/">Xamarin</a>, který umožňuje vytvářet nativní aplikace pro více platform z jednoho (C#) kódu a jen různých UI.</p>

<p>Další dva rozlobené články v angličtině:</p>

<ul>
<li><a href="http://www.joshmorony.com/does-ext-js-6-mean-the-end-of-sencha-touch-for-single-developers/">Does EXT JS 6 Mean the End of Sencha Touch for Single Developers?</a></li>
<li><a href="http://senchatouchdev.com/wordpress/2015/05/21/sencha-roadshow-london-extjs-6-x-thoughts/">Sencha Roadshow London: ExtJS 6.X Thoughts</a></li>
</ul>
]]></content>
        </entry>
    </feed>