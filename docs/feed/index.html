<?xml version="1.0" encoding="utf-8" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[Martin Hujer blog]]></title>
    <link href="https://blog.martinhujer.cz/feed/" rel="self"/>
    <link href="https://blog.martinhujer.cz/"/>
    <updated>2017-03-02T18:22:56+00:00</updated>
    <id>https://blog.martinhujer.cz/</id>
            <author>
            <name><![CDATA[Martin Hujer]]></name>                    </author>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[Návrhový vzor Null Object]]></title>
            <link href="https://blog.martinhujer.cz/null-object/"/>
            <updated>2016-11-09T00:00:00+00:00</updated>
            <id>https://blog.martinhujer.cz/null-object/</id>
            <content type="html"><![CDATA[<p>V článku předvedu, jak pomocí návrhového vzoru Null Object můžeme zjednodušit kód. Budu se snažit ukázat maximum příkladů a jen minimum teorie (na tu vás odkážu jinam).</p>

<p>Prvním příkladem je <em>volitelná</em> závislost. V následující ukázce to je <code>$logger</code>. Buď ho máme nastavený a v tom případě logujeme nebo nemáme a nelogujeme.</p>

<pre><code class="php">class DataProcessor
{
    /** @var LoggerInterface */
    private $logger;

    public function setLogger(LoggerInterface $logger)
    {
        $this-&gt;logger = $logger;
    }

    public function processData($data)
    {
        if ($this-&gt;logger !== null) {
            $this-&gt;logger-&gt;log('Processing started!');
        }

        // some work...

        if ($this-&gt;logger !== null) {
            $this-&gt;logger-&gt;log('Processing finished!');
        }
    }
}

interface LoggerInterface
{
    public function log($message);
}

class StdoutLogger implements LoggerInterface
{
    public function log($message)
    {
        echo $message;
    }
}
</code></pre>

<p>Použití třídy pak může vypadat takto</p>

<pre><code class="php">$processor = new DataProcessor();
$processor-&gt;setLogger(new StdoutLogger());
$processor-&gt;processData([]); // máme a logujeme

$processorWithoutLogging = new DataProcessor();
$processorWithoutLogging-&gt;processData([]); // nemáme a nelogujeme
</code></pre>

<p>Kromě toho, že dependency injection pomocí setteru je špatně (existuje instance v nekonzistentním stavu), tak kontroly <code>null</code> zbytečně zesložiťují metodu <code>processData()</code>.</p>

<p>Tady přichází ke slovu návrhový vzor Null Object. Místo, abychom se rozhodovali, jestli logger nastavíme nebo ne, tak ho nastavíme vždy. Ideálně pomocí contructor injection. Díky tomu můžeme odebrat podmínky v metodě <code>processData()</code>:</p>

<pre><code class="php">class DataProcessor
{
    /** @var LoggerInterface */
    private $logger;

    public function __construct(LoggerInterface $logger)
    {
        $this-&gt;logger = $logger;
    }

    public function processData($data)
    {
        $this-&gt;logger-&gt;log('Processing started!');

        // some work...

        $this-&gt;logger-&gt;log('Processing finished!');
    }

}
</code></pre>

<p>Protože bez instance loggeru nemůžeme vytvořit <code>DataProcessor</code>, vytvoříme třídu <code>NullLogger</code>, která implementuje rozhraní <code>LoggerInterface</code>, ale nikam neloguje.</p>

<pre><code class="php">class NullLogger implements LoggerInterface
{
    public function log($message)
    {
        // intentionally does nothing
    }
}

$processor = new DataProcessor(new StdoutLogger());
$processor-&gt;processData([]); // máme a logujeme

$processorWithoutLogging = new DataProcessor(new NullLogger());
$processorWithoutLogging-&gt;processData([]); // máme, ALE NELOGUJEME
</code></pre>

<p>Odsunuli jsme starost o <code>null</code> mimo třídu, čímž jsme elegantně zjednodušili kód <code>DataProcessor</code>. Jde vlastně o příklad použití polymorfismu - místo speciálního chování podle typu delegujeme řešení na tu samotnou třídu.</p>

<h2 id="co-situace%2C-kdy-to-pot%E5%99ebuji-rozli%E5%A1it%3F">Co situace, kdy to potřebuji rozlišit?</h2>

<p>Samozřejmě ne vždy to půjde takhle snadno jako v tomto případě. Cílem návrhového vzoru je zjednodušit většinu použití, ale zároveň umožnit rozlišení tam, kde to je nezbytné.</p>

<p>Jako první možnost odlišení vás asi napadne:</p>

<pre><code class="php">if ($this-&gt;logger instanceof NullLogger) {
</code></pre>

<p>Ale to by znamenalo porušení Dependency Inversion Principle a zároveň bychom nemohli použít několik různých Null objektů. Fowler (2012) na to navrhuje dvě řešení:</p>

<ol>
<li>V interface vytvořit metodu <code>public function isNull(): bool;</code>, která v konkrétních implementacích bude buď vracet <code>true</code> nebo <code>false</code>.</li>
<li>Pokud nemůžeme měnit rozhraní a ostatní třídy, můžeme vytvořit <code>interface Null { }</code> a implementovat ho v našich Null třídách.</li>
</ol>

<p>Použití  pak může vypadat takto:</p>

<ol>
<li>speciální metoda:</li>
</ol>

<pre><code class="php">if ($this-&gt;logger-&gt;isNull()) {
    // chování pro null
}
</code></pre>

<ol start="2">
<li>implementované rozhraní: </li>
</ol>

<pre><code class="php">if ($this-&gt;logger instanceof Null) {
    // chování pro null
}
</code></pre>

<h2 id="jak-refaktorovat-st%E3%A1vaj%E3%ADc%E3%AD-k%E3%B3d%3F">Jak refaktorovat stávající kód?</h2>

<p>Fowler ukazoval Null Object v knize <em>Refactoring - Improving the Design of Existing Code</em> (Fowler, 2012, p260) a mně se hodně líbilo, jak to refaktoroval po malých "baby-steps" (co nejmenší bezpečné kroky, čím se minimalizuje riziko, že něco rozbijeme). Zjednodušeně je tu popíšu na od něj vypůjčeném a upraveném příkladu.</p>

<p>Máme zákazníka, který má přiřazenou úroveň slev:</p>

<pre><code class="php">class DiscountLevel
{
    const NONE = 'none';
    const PREMIUM = 'premium';
}

class Customer
{
    public function getDiscountLevel() { ... }
}
</code></pre>

<p>A použití zákazníka vypadá takto:</p>

<pre><code class="php">if ($customer === null) {
    $discountLevel = DiscountLevel::NONE;
} else {
    $discountLevel = $customer-&gt;getDiscountLevel();
}

// případně takto
if ($customer !== null) {
    $entityManager-&gt;persist($customer);
}
</code></pre>

<p>Prvním krokem refaktoringu je přidání metody <code>isNull()</code> a vytvoření <code>NullCustomer</code> jako potomka <code>Customer</code> (jen se změněným chováním metody <code>isNull()</code>). Zároveň v tomto kroku musíme změnit <strong>všechna</strong> porovnání s <code>null</code> na volání <code>-&gt;isNull()</code> (<code>$customer</code> už nikdy nebude <code>null</code>, takže by to jinak rozbilo stávající kód)</p>

<pre><code class="php">class Customer
{
    public function getDiscountLevel() { ... }

    public function isNull()
    {
        return false;
    }
}

class NullCustomer extends Customer
{
    public function isNull()
    {
        return true;
    }
}

if ($customer-&gt;isNull()) {
    $discountLevel = DiscountLevel::NONE;
} else {
    $discountLevel = $customer-&gt;getDiscountLevel();
}

if (!$customer-&gt;isNull()) {
    $entityManager-&gt;persist($customer);
}
</code></pre>

<p>Následně budeme procházet jednotlivá použití a zkoumat, zda je pomocí Null Objectu můžeme zjednodušit.</p>

<p>Nejdříve se podíváme na <code>getDiscountLevel()</code>. Stačí, pokud tu metodu v <code>NullCustomer</code> překryjeme, aby vždy vracela <code>DiscountLevel::NONE</code> a můžeme podmínku úplně zrušit.</p>

<pre><code class="php">// Customer se nemění

class NullCustomer extends Customer
{
    public function isNull() {...};

    public function getDiscountLevel()
    {
        return DiscountLevel::NONE;
    }
}

// tady jsme zrušili složitý if
$discountLevel = $customer-&gt;getDiscountLevel();
</code></pre>

<p>V druhé situaci, při persistování do databáze, se podmínky nezbavíme. Šlo by to vyřešit úpravou persistování, aby kontrolovalo, jestli nepředáváme objekt implementující <code>Null</code> interface a to důsledně implementovat u všech Null objektů. Ale to by spíš vedlo ke znepřehlednění než zpřehlednění.</p>

<pre><code class="php">// tady if zůstal
if (!$customer-&gt;isNull()) {
    $entityManager-&gt;persist($customer);
}
</code></pre>

<p>Na složitějším příkladu jsme si ukázali, jak můžeme zjednodušit existující kód zavedením Null Objectu a že ne ve všech situacích to je možné.</p>

<h2 id="p%E3%A1r-stru%E4%9Dn%E3%A1ch-pozn%E3%A1mek">Pár stručnách poznámek</h2>

<ul>
<li>Null Object se často používá při implementaci návrhového vzoru Strategy (jako nejjednodušší strategie, kterou můžeme vytvořit)</li>
<li>Klidně je možné vytvořit více různých Null objektů pro jeden reálný typ</li>
<li>Null objekt by se nikdy neměl změnit v reálný objekt (pokud to potřebujeme, tak by to od začátku měl být reálný objekt, který se jen dočasně chová jako Null objekt)</li>
</ul>

<h2 id="shrnut%E3%AD">Shrnutí</h2>

<p>Návrhový vzor Null Object se snaží řešit opakovaný kód pro kontrolu, zda máme k dispozici instanci třídy. Místo porovnávání s <code>null</code> vytvoříme třídu se strejným rozhraním, ale s prázdným nebo defaultním chováním. Tím odsunujeme problém z kódu, který třídu používá o úroveň výše.</p>

<p><strong>Slyšeli jste o tomto návrhovém vzoru už dříve? Používáte ho ve své aplikaci? Budu rád, pokud se podělíte o další příklady v komentářích.</strong></p>

<h2 id="zdroje">Zdroje</h2>

<ul>
<li>FOWLER, Martin, Kent BECK, John BRANT, William OPDYKE a Don ROBERTS. <em>Refactoring: Improving the Design of Existing Code.</em> Addison-Wesley, 2012. ISBN 9780133065268.</li>
<li><a href="https://www.tutorialspoint.com/design_pattern/null_object_pattern.htm">https://www.tutorialspoint.com/design_pattern/null_object_pattern.htm</a></li>
<li><a href="https://sourcemaking.com/design_patterns/null_object">https://sourcemaking.com/design_patterns/null_object</a></li>
<li><a href="https://www.cs.oberlin.edu/~jwalker/nullObjPattern/">https://www.cs.oberlin.edu/~jwalker/nullObjPattern/</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Platební karta Revolut]]></title>
            <link href="https://blog.martinhujer.cz/revolut-karta/"/>
            <updated>2016-11-08T00:00:00+00:00</updated>
            <id>https://blog.martinhujer.cz/revolut-karta/</id>
            <content type="html"><![CDATA[<p>Na výběry z bankomatů v zahraničí a na placení na podezřelých webech jsem si pořídil <a href="https://revolut.com/">Revolut kartu</a>.</p>

<p><img src="/data/2016/2016-11-08-revolut-karta/revolut-logo.jpg" alt="Revolut logo" /></p>

<h2 id="funguje-to-n%E3%A1sledovn%E4%9B%3A">Funguje to následovně:</h2>

<ol>
<li>nainstalujete si mobilní aplikaci</li>
<li>vyplníte své údaje</li>
<li>necháte si vystavit kartu (pro online placení je k dispozici ihned)</li>
<li>počkáte, než vám doručí fyzickou MasterCard - je to britský startup a karta z UK přišla rychleji než z Fio banky</li>
<li>aktivujete ji v aplikaci</li>
<li>převedete si na Revolut účet peníze z jiné karty nebo banky</li>
<li>vybíráte a platíte</li>
</ol>

<h2 id="na-co-se-hod%E3%AD%3F">Na co se hodí?</h2>

<p>Já Revolut používám zejména na výběry z bankomatu v cizině. Nechci u sebe mít zbytečně hodně peněz v hotovosti (všechno co jde, se snažím platit kartou), takže nejradši vybírám po €40. S českou platební kartou, kde typicky účtují fixní poplatek a procenta z vybírané částky bych se nedoplatil. Takže to dělám tak, že českou Airbank kartou dobíjím Revolut účet (za relativně férový Airbank kurz) a vybírám Revolut kartou. Mají zdarma neomezený počet výběrů do objemu £500 měsíčně (což je teď vlastně i přibližně €500).</p>

<p>Kromě vybírání z bankomatu kartu používám na placení na podezřelých webech, kde je nutné zadat číslo karty přímo do webu. V mobilní aplikaci lze totiž u karty zvlášť povolit nebo vypnout platby online, takže na platbu na podezřelém webu je zapnu a pak zase vypnu.</p>

<p>Ještě by měla umět snadno převádět peníze mezi jednotlivými uživateli, ale to jsem zatím nezkoušel.</p>

<h2 id="nev%E3%BDhody">Nevýhody</h2>

<p>Nevýhodou může být, že jediným způsobem, jak Revolut kartu získat a ovládat je pomocí mobilní aplikace (je podobně jako třeba Whatsapp navázaná na telefonní číslo). Ale na druhou stranu to je hodně příjemné - např. zobrazí notifikaci v okamžiku zaplacení.</p>

<p>Zároveň je složitější z ní převést peníze zpět na český účet (myslím, že tam je nějaký poplatek za mezinárodní platbu), takže si tam dobíjím je částky, které stejně brzy vyberu.</p>

<p>Na jejich Facebook stránce jsem zachytil, že psali o nějakém výpadku, takže určitě na ni nespoléhejte jako na jedinou kartu (ale to ani na žádnou jinou!).</p>

<h2 id="shrnut%E3%AD">Shrnutí</h2>

<p>Jestli se chystáte do zahraničí a víte, že budete častěji vybírat z bankomatu, tak Revolut určitě vyzkoušejte.</p>

<p>Pokud při registraci zadáte v aplikaci zadáte promo kód <code>martinpri</code>, tak bychom oba měli od Revolutu dostat nějaké bonusové fufníky.</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Córdoba - co navštívit?]]></title>
            <link href="https://blog.martinhujer.cz/cordoba/"/>
            <updated>2016-11-03T00:00:00+00:00</updated>
            <id>https://blog.martinhujer.cz/cordoba/</id>
            <content type="html"><![CDATA[<p>V Córdoba jsem pobyl jen pár dnů, ale mám pár tipů, které by se vám mohly hodit. (<a href="/spanelsko/">Tipy ke Španělsku</a> obecně jsem sepsal v <a href="/spanelsko/">samostatném článku</a>).</p>

<p><img src="/data/2016/2016-11-03-cordoba/cordoba.jpg" alt="Most v Cordobě" /></p>

<h2 id="co-nav%E5%A1t%E3%ADvit">Co navštívit</h2>

<ul>
<li><strong><a href="https://goo.gl/maps/nRAmcQBQa6p">Mezquita-Catedral de Córdoba</a></strong> - nejzajímavější památka v Córdobě. Když křesťané v 13. století vyhnali araby, tak místo toho, aby mešitu zbourali, tak do ní zabudovali katedrálu a vysvětili ji. Takže to je mešito-katedrála. Na rozdíl od Alhambry jsem neměl problém se vstupenkami, stačilo pár minut ve frontě. Do věže se vstupenky kupují samostatně a na konkréní čas, takže doporučuji ji jít koupit před návštěvou katedrály, mně to díky tomu pěkně navazovalo.</li>
</ul>

<p><img src="/data/2016/2016-11-03-cordoba/mesito-katedrala.jpg" alt="Mešito-katedrála" /></p>

<ul>
<li><strong><a href="https://goo.gl/maps/8fyuAqhQcXG2">Puente Romano</a></strong> - obdoba Karlova mostu </li>
<li><strong><a href="https://goo.gl/maps/7bW9MLgnYRs">Sinagoga de Córdoba</a></strong> - synagoga ze 14. století, jedna z mála zachovalých synagog ve Španělsku (postavených před vyhnáním židů v 15. století) </li>
<li><strong><a href="https://goo.gl/maps/g4TQdDnhxAH2">Puerta de Almodóvar</a></strong> - zachovalá zeď a brána </li>
<li><strong><a href="https://goo.gl/maps/TzBykpLtYzj">Templo Romano</a></strong> - zbytky římského chrámu v centru města </li>
<li><strong><a href="https://goo.gl/maps/e9UhBLbcqtx">Plaza de la Corredera</a></strong> - náměstí s hezkými domy okolo </li>
<li><strong><a href="https://goo.gl/maps/5RVhPSt9LAu">Palacio de Viana</a></strong> - palác s nádhernými zahradami, odpoledne 14-17h měli vstup zdarma</li>
<li><strong><a href="https://goo.gl/maps/Rgg6Vszx8Lv">El Mundo de Alicia</a></strong> - příjemná kavárna s výhledem na kostel, dělají fajn snídaně a dortíky. Pokud si budete sedat na zahrádku, tak si dejte pozor, ať si nesednete do vedlejší kavárny - mají zahrádky hned vedle sebe </li>
<li><strong><a href="https://goo.gl/maps/CyjwPSpjyTD2">De tapas</a></strong> - tapas restaurace - prochází mezi stoly s tácy tapas a berete si, na co máte chuť. Při placení vám zúčtují dřevené tácky, které vám od tapas zbyly. </li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Granada - co navštívit?]]></title>
            <link href="https://blog.martinhujer.cz/granada/"/>
            <updated>2016-10-31T00:00:00+00:00</updated>
            <id>https://blog.martinhujer.cz/granada/</id>
            <content type="html"><![CDATA[<p>V Granadě jsem pobyl týden a zjistil jsem pár věcí, které vám pomohou si pobyt užít ještě více. (<a href="/spanelsko/">Tipy ke Španělsku</a> obecně jsem sepsal v <a href="/spanelsko/">samostatném článku</a>).</p>

<p><img src="/data/2016/2016-10-31-granada/granada-sierra-nevada.jpg" alt="Sierra Nevada" /></p>

<h2 id="bydlen%E3%AD">Bydlení</h2>

<p>Bydlel jsem trochu dál od centra, což na jednu stranu bylo super, protože to byl domek s předzahrádkou, kde rostl pomerančovník a citrónovník, ale zas to bylo všude daleko. Příště bych asi vybral něco blíže k centru.</p>

<h2 id="co-nav%E5%A1t%E3%ADvit">Co navštívit</h2>

<ul>
<li><strong><a href="https://www.alhambradegranada.org">Alhambra</a></strong> - top věc v Granadě. Jde o zachovalou arabskou pevnost, palác a zahrady. Prý je to skoro nejnavštěvovanější památka ve Španělšku. Projevuje se to mimojiné tím, že vstupenky byly i v říjnu vyprodané na dva týdny dopředu. Pokud, podobně jako já, nebudete dopředu vědět, kdy budete v Granadě, tak existuje druhá varianta a to koupit lístky na ten den ráno na místě. Funguje to tak, že tak od půl sedmé se u prodeje lístků začne tvořit fronta na tu část lístků, které nepustili do předprodeje. Pokladna se otevírá v osm. Já tam dorazil na sedmou a byl jsem tak v polovině fronty a dovnitř jsem se dostal kolem deváté. Těsně před rozedněním je zima, tak si na stání ve frontě určitě vezměte teplé oblečení (jakože fakt!). Ale rozhodně to stojí za to.</li>
</ul>

<p><img src="/data/2016/2016-10-31-granada/alhambra.jpg" alt="Alhambra" /></p>

<ul>
<li><strong><a href="https://goo.gl/maps/9CnEEtRYL4D2">Mirador San Nicolás</a></strong> - na Alhambru je nejlépe vidět z druhého kopce, od kostela San Nicolás. Je tam spousta turistů a prodejců cetek. Nejlepší čas je asi kolem půl třetí až třetí odpoledne, kdy většina lidí obědvá.</li>
<li><strong><a href="https://goo.gl/maps/1xuGzRALYNs">Mirador de San Cristobal</a></strong> - je méně main-streamová vyhlídka, ze které je vidět na Granadu. Ten kostel San Cristobal je zajímavý tím, že ho postavili místo mešity z kamenů ze kterých byla ta mešita, takže má na stěnách kameny s arabskými nápisy.  </li>
<li><strong><a href="https://goo.gl/maps/qr2nJTsLB1n">Catedral de Granada</a></strong> - velká katedrála, ale tím, že už jsem letos byl v hodně podobných, tak mě to moc nebavilo (všechny jsou plus mínus stejné)</li>
<li><strong><a href="https://goo.gl/maps/9o7yangQUPU2">Jardín Botánico de la Universidad de Granada</a></strong> - botanická zahrada od Univerzity Granada - oáza klidu v centru města, lavičky, místní toulavé kočky</li>
<li><strong><a href="https://goo.gl/maps/SM7Nd2X8Scu">Parque García Lorca</a></strong> - nádherný park okolo domu, kde v Granadě bydlel básník <a href="https://en.wikipedia.org/wiki/Federico_Garc%C3%ADa_Lorca">Federico García Lorca</a></li>
<li><p><strong><a href="https://goo.gl/maps/SsmcaXSzkAL2">Sierra Nevada</a></strong> - kousek od Granady je pohoří Sierra Nevada, kde národní park a zároveň spoustu sjezdovek. Mimo lyžařskou sezónu se tam dá dostat autobusem jednou denně ráno v 9h z autobusáku a odpoledne v 16h zpět (nebo samozřejmě autem). Granada je cca 700 m.n.m. a autobus vás vyveze do 2500 m.n.m. Já se pak vypravil na <a href="https://goo.gl/maps/SsmcaXSzkAL2">Pico de Veleta</a> (3396 m.n.m.). Skoro až nahoru vede silnice, ale mnohem lepší je zkracovat si zatáčky po cestičkách (offline Mapy.cz FTW!). Vzhledem k tomu, že nejsem nějaký extra horal, tak mě docela překvapilo, že chůze do kopce ve vyšší nadmořské výšce je opravdu náročnější. Po návratu jsem zjistil, že ta hora, na kterou jsem si udělal sobotní procházku je 4. nejvyšší ve Španělsku :-)</p></li>
<li><p><strong>Couchsurfing meetupy</strong> - viz kapitola <em>Setkávání se s místními</em> v <a href="/spanelsko/">Tipy ke Španělsku</a>.</p></li>
</ul>

<h2 id="praktick%E3%A9">Praktické</h2>

<ul>
<li><strong>Voda z vodovodu</strong> - moc dobrá</li>
<li><strong>V noci zima</strong> - v říjnu už bylo v noci a ráno chladno, kolem 10°C, ale přes den 25°C, tak s tím počítejte</li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Málaga - co, kdy kde a jak?]]></title>
            <link href="https://blog.martinhujer.cz/malaga/"/>
            <updated>2016-10-24T00:00:00+00:00</updated>
            <id>https://blog.martinhujer.cz/malaga/</id>
            <content type="html"><![CDATA[<p>Během dvou týdnů v Málaze (10.10. - 23.10.) jsem nasbíral pár tipů, které vám pomohou si pobyt užít ještě více. (<a href="/spanelsko/">Tipy ke Španělsku</a> obecně jsem sepsal v <a href="/spanelsko/">samostatném článku</a>).</p>

<p><img src="/data/2016/2016-10-24-malaga/malaga-arena.jpg" alt="" /></p>

<h2 id="bydlen%E3%AD">Bydlení</h2>

<p>První týden jsem bydlel v centru (~200m od Picassova muzea), což bylo super na prozkoumávání města. Nevýhodou bylo, že v ulici bylo několik barů a Španělé v pátek a sobotu rozhodně nekončí o půlnoci (a ještě v úterý - protože mi tam vyšel středeční svátek). Ale se špunty do uší to nebyl problém. A mít to kamkoliv kousek bylo super.</p>

<p>Druhý týden jsem bydlel v pokoji v domku se zahradou v Huelinu (taková rezidenční čtvrť), kousek od pláže. Byl tam klid a blízko na trh, jen na meetupy do centra to holt byla 3km procházka podél moře.</p>

<h2 id="co-nav%E5%A1t%E3%ADvit">Co navštívit</h2>

<p>V neděli má většina muzeí a památek odpoledne a navečer vstup zdarma (doporučuji čas vždycky ověřit na webu)</p>

<ul>
<li><strong><a href="https://goo.gl/maps/z5nAZGmjMDA2">Teatro Romano</a></strong> - vykopaný kus starého římského amfiteátru - vstup zadarmo (nemají to napsané zvenku), pozor na otevírací dobu - vyšlo mi to až napotřetí, co jsem šel okolo</li>
<li><strong><a href="https://goo.gl/maps/6CYv5DY7h7P2">Museo Picasso</a></strong> - v neděli 17-19 zdarma (místo €7). Kolem 17h tam byla dost dlouhá fronta, ale o něco později tam už nečekal skoro nikdo. Když je vstup zdarma, tak si za €1 můžete půjčit audioguide (jinak je v ceně). Pokud, podobně jako já, moc nemáte přehled o umění, tak doporučuji si nejdříve o <a href="https://en.wikipedia.org/wiki/Pablo_Picasso">Picassovi přečíst na Wikipedii</a>. Diky tomu a audioguide jsem si to příjemně užil. Jo ať vás to nepřekvapí, při vstupu rentgenují batohy.</li>
<li><strong><a href="https://goo.gl/maps/gfiTqxizj6z">Castillo de Gibralfaro</a></strong> - hrad na kopci s výborným výhledem do okolí. Cestou půjdete okolo vyhlídky a z ní můžete odbočit po pěšince, která cestu nahoru prodlouží asi o půl kilometru - ale stojí to za to (je z ní mj. focená ta fotka nahoře). A úplně super je vyjít si na vyhlídku v noci a podívat se na osvětlené město. V neděli odpoledne je vstup do hradu zdarma (jinak myslím €2). A až budete na hradě, tak se kromě rozhlížení z hradeb podívejte dovnitř, pěstují tam různé věci, které se tam pěstovaly v době, kdy ho arabové postavili.</li>
<li><strong><a href="https://goo.gl/maps/BdMLhvWUJhu">Alcazaba</a></strong> - arabská pevnost, v neděli odpoledne vstup zdarma (jinak myslím €2)</li>
<li><strong><a href="https://goo.gl/maps/E8i3m96vGZy">Parque del Oeste</a></strong> - nádherný park v Heulinu - sochy, fontánky, rybník s černými labutěmi a želvičkami. Má dvě části, které jsou propojené podchodem pod silnicí.</li>
<li><strong>Couchsurfing meetupy</strong> - viz kapitola <em>Setkávání se s místními</em> v <a href="/spanelsko/">Tipy ke Španělsku</a>.</li>
</ul>

<h2 id="praktick%E3%A9">Praktické</h2>

<ul>
<li><strong>Voda</strong>  - nejdřív jsem ji tahal ze supermarketu, ale pak jsem zjistil, že jde pít i tu z vodovodu. Místní ji moc nepijí (nebo si ji filtrují), protože jim nechutná, ale podle mě se dá (a nic mi z ní nebylo).</li>
<li><strong><a href="https://goo.gl/maps/ex2GqgJn8gG2">Mercado de Huelin</a></strong> - místní trh, kilo avokád od €1, v Mercadoně €4.65. Většina věcí je výhodnější ve větších objemech (2 kg mandarinek €1.8 apod). Prodávají se tam jak <em>bananas</em>, tak <em>plátanos canarias</em>, což jsou banány z kanárských ostrovů - a podle mě jsou o něco chutnější. (hned vedle trhu jsem našel <a href="https://goo.gl/maps/1ve9aJyrAgN2">příjemnou kavárnu</a> s dobrými churros).</li>
<li><strong>Déšť</strong> - za ty dva týdny to hodněkrát vypadalo na déšť, AccuWeather hlásil bouřku na každý den. A pršelo 2× a bouřka nebyla ani jedna. Takže se neděste deště a nerušte si program. Ale pro jistotu si vezměte do batohu větrovku.</li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Španělsko - co by vám mohlo hodit]]></title>
            <link href="https://blog.martinhujer.cz/spanelsko/"/>
            <updated>2016-10-21T00:00:00+00:00</updated>
            <id>https://blog.martinhujer.cz/spanelsko/</id>
            <content type="html"><![CDATA[<p>10&#46; října jsem odjel do Málagy za teplem a postupně jsem si poznamenal různé věci, které by se vám při cestování po Španělsku mohly hodit. Rozdělil jsem je do více částí - Španělsko obecně (tenhle článek, pokračování pod fotkou) a jednotlivé články podle měst:</p>

<ul>
<li><a href="/malaga/">Málaga</a></li>
<li><a href="/granada/">Granada</a></li>
<li><a href="/cordoba/">Córdoba</a></li>
</ul>

<blockquote>
  <p>Na to, že na nějakou dobu odjedu už jsem se chvíli chystal, zařizoval spoustu věcí a podobně. Posledním pošťouchnutím byl kurz <a href="https://www.naucmese.cz/kurz/digitalni-nomadstvi">Digitálního nomádství</a> s Adamem, který říkal <em>"Kupte si letenku a ostatní se už dořeší"</em> - no a další den jsem si koupil jednosměrnou Berlín - Málaga.</p>
</blockquote>

<p><img src="/data/2016/2016-10-21-spanelsko/spanelsko-malaga.jpg" alt="" /></p>

<h2 id="nakupov%E3%A1n%E3%AD">Nakupování</h2>

<p>Rád nakupuju v obchodě Mercadona - řetězec obchodů s potravinami. Je to ve stylu Albert - nejen jídlo ale i věci do domácnosti atd. Jsou skoro všude (minimálně v Barceloně i v Málaze). Bez problémů jde platit i bezkontaktní kartou (např. v Día supermercado až od €7)</p>

<p>Na výběry z bankomatů si pořiďte <a href="/revolut-karta/">Revolut kartu</a> (vybírám po €20 nebo €40).</p>

<p>Zkuste si najít trh (kvůli horku to je budova, ne stánky), ovoce a zelenina tam pravděpodobně bude levnější. Třeba tady v Málaze v Mercado de Huelin stojí kilo avokád od €1, v Mercadoně €4.65</p>

<h3 id="fronty">Fronty</h3>

<p>Fronty v obchodech fungují jinak, nestojí se v řadě. Takže klidně můžete prohlížet zboží.</p>

<ul>
<li>v Mercadoně u ryb se berou čísla a vyvolávají je (mají displej, ale někdy to jen říkají a nepřepínají to)</li>
<li>pokud nejsou čísla, tak se musíte zeptat, kdo je poslední (<em>¿Quién es el último?</em>) a pamatovat si, že jste na řadě za ním</li>
</ul>

<h2 id="siesta-a-ned%E4%9Ble">Siesta a neděle</h2>

<p>Siesta se opravdu dodržuje a obchody (kromě velkých obchoďáků a turistických stánků) mají cca od 14 - 17h zavřeno.</p>

<p>V neděli a ve státní svátky jsou obchody zavřené úplně, tak si nezapomeňte nakoupit jídlo.</p>

<ul>
<li><strong>ProTip:</strong> v Google Calendar si jde zapnout kalendář svátků ve Španělsku</li>
<li><strong>ProTip:</strong> chleba koupíte i v neděli v nějaké cafeterii</li>
</ul>

<h2 id="kav%E3%A1rny">Kavárny</h2>

<p>Rád si dávám <em>café con leche</em> (něco jako capuchino s méně pěnou), stojí €1.3 - €1.6.</p>

<p>V kavárnách se často účtuje poplatek za "terasu/zahrádku" - cca €0.2, tak ať vás to nepřekvapí.</p>

<p>Spoustu lidí má doma Moka konvičku, takže pokud vám stačí dobrá káva, můžete si koupit v Mercadoně mletou a vařit si doma.</p>

<h2 id="setk%E3%A1v%E3%A1n%E3%AD-se-s-m%E3%ADstn%E3%ADmi">Setkávání se s místními</h2>

<p>I když kvůli nějakému pohodlí a méně stěhování (max jednou týdně) hledám bydlení přes <a href="https://www.airbnb.com/c/mhujer">Airbnb</a>, tak doporučuji určitě se zaregistrovat na <a href="https://www.couchsurfing.com/">Couchsurfing.com</a> a najít si meetupy v tom místě, kde budete. Chodí na ně cizinci, kteří cestují a místní, kteří se chtějí potkávat s cestovateli.</p>

<p>Tady v Málaze jsem byl na CS Meetupu a na Language exchange (myšlenkou je vzájemné učení jazyků tím, že si povídáte - takže vlastně víceméně stejné jako meetup).</p>

<p>Případně vyzkoušejte meetup.com (ale v Málaze ani v Granadě jsem tam na rozdíl od Couchsurfingu nic nenašel)</p>

<p>Je super umět alespoň <a href="/jak-se-ucim-spanelsky/">trochu španělsky</a>, protože místní anglicky spíš nemluví (kromě centra a kolikrát ani tam ne). Takže třeba to s tou frontou na trhu mi vysvětlili spolunakupující a mohl jsem jim na to odpovědět ve větách ;-) Zároveň si můžu vybírat Airbnb, kde je popis jen ve španělštině a jsem schopný se s hostiteli bavit i o komplikovanějších věcech.</p>

<p>Všichni používají WhatsApp, je to primární způsob komunikace - takže když dostanete na někoho číslo, tak je to velmi pravděpodobně WhatsApp číslo.</p>

<p>Vyzkoušejte <a href="https://www.blablacar.es/">Blablacar</a> - portál pro spolujízdu. Funguje i v ČR (koupili Jízdomat). Zatím jsem ho ve Španělsku použil 2× a pokaždé to bylo super.</p>

<h2 id="%E5%A0pan%E4%9Blsk%E3%A1-sim">Španělská SIM</h2>

<p>Koupil jsem si Španělskou SIM od Vodafone ES (1GB za €10 na měsíc), ale určitě ho před cestou porovnejte minimálně s Orange ES. Přes léto (včetně září) mívají různé akce - např. dvojnásobek dat za stejnou cenu. A zajímavá věc, ani u jednoho z nich není rozumně možné dobít SIM z ČR tak, abych měl při další cestě aktivní internet už od letiště (on-line je potřeba španělská platební karta).</p>

<h2 id="bydlen%E3%AD">Bydlení</h2>

<p>Už jsem zmiňoval, že bydlení hledám přes <a href="https://www.airbnb.com/c/mhujer">Airbnb</a>, abych měl alespoň trochu jistotu a klid na práci (a přesouvám se po týdnu). Pokud to je možné, tak vybírám pokoj v bytě, kde ten pronajímatel zároveň bydlí. Spoustu nabídek jsou totiž byty celé nabízené po pokojích na Airbnb na kšeft a majitel tam nebydlí (naopak má takových bytů více). Sice se v takových bytech můžete potkat s dalšími cestovateli, ale já dávám přednost autentickému bydlení s místními (je to vlastně takový placený Couchsurfing s trochou garancí).</p>

<p>Pronajímatelé vám dávají obrovskou důvěru, když vás nechají u sebe doma, tak ji nezklamte!</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[GitLab jako Continuous Integration (nejen) pro PHP]]></title>
            <link href="https://blog.martinhujer.cz/gitlab-jako-continuous-integration-nejen-pro-php/"/>
            <updated>2016-10-19T00:00:00+00:00</updated>
            <id>https://blog.martinhujer.cz/gitlab-jako-continuous-integration-nejen-pro-php/</id>
            <content type="html"><![CDATA[<p>V článku si ukážeme, jak kromě hostování a správy git repositářů můžeme GitLab používat pro CI (Continuous Integration). Zajímavé na něm je, že na rozdíl od konkurence to nabízí i v hostované verzi zadarmo.</p>

<p><strong><a href="https://www.zdrojak.cz/clanky/gitlab-jako-continuous-integration-nejen-pro-php/">Článek vyšel</a> na serveru Zdroják.cz</strong></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Jaké novinky přinese PHP 7.1]]></title>
            <link href="https://blog.martinhujer.cz/jake-novinky-prinese-php-7-1/"/>
            <updated>2016-09-30T00:00:00+00:00</updated>
            <id>https://blog.martinhujer.cz/jake-novinky-prinese-php-7-1/</id>
            <content type="html"><![CDATA[<p>PHP 7.0.0 vyšlo teprve před necelým rokem a už se pomalu můžeme těšit na PHP 7.1. Před pár dny byla vydána verze RC3, takže už je čas začít testovat kompatibilitu aplikací.</p>

<p><strong><a href="https://www.zdrojak.cz/clanky/jake-novinky-prinese-php-7-1/">Článek vyšel</a> na serveru Zdroják.cz</strong></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Framework-less code? (PHP Prague 2016)]]></title>
            <link href="https://blog.martinhujer.cz/phpprague-2016-framework-less-code/"/>
            <updated>2016-06-03T00:00:00+00:00</updated>
            <id>https://blog.martinhujer.cz/phpprague-2016-framework-less-code/</id>
            <content type="html"><![CDATA[<p>Na <a href="http://pehapkari.cz/konference/php-prague-2016-v-paralelnim-polis/">PHP Prague 3. 6. 2016</a> jsem povídal o tom, jak vhodně vytvářet knihovny, aby byly co nejméně závislé na konkrétním frameworku. Můžete se podívat na video nebo si projít slidy.</p>

<p><strong>Video: <a href="https://youtu.be/r3dr_DnaTG4?t=3835">na Youtube</a></strong></p>

<p><strong>Slidy: <a href="//www.slideshare.net/martinhujer/php-prague-3-6-2016-bez-zvislosti-na-frameworku">na Slideshare</a></strong></p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/mXrc659HLB1sgV" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Symfony Console jako první rande se Symfony]]></title>
            <link href="https://blog.martinhujer.cz/symfony-console-jako-prvni-rande-se-symfony/"/>
            <updated>2015-12-07T00:00:00+00:00</updated>
            <id>https://blog.martinhujer.cz/symfony-console-jako-prvni-rande-se-symfony/</id>
            <content type="html"><![CDATA[<p>V článku si ukážeme možnosti Symfony Console. Je to samostatná komponenta s minimem závislostí, takže ji lze velmi snadno začít používat v existující aplikaci. Považuji to za super způsob, jak se nenásilně seznámit s ekosystémem Symfony.</p>

<p><strong><a href="https://www.zdrojak.cz/clanky/symfony-console-jako-prvni-rande-se-symfony/">Článek vyšel</a> na serveru Zdroják.cz</strong></p>
]]></content>
        </entry>
    </feed>